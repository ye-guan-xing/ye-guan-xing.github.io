[{"content":"前言 在前后端分离开发模式下，跨域是前端开发者绕不开的问题。浏览器的同源策略限制了不同域名/端口间的资源请求，而解决跨域的核心方案主要有两种：CORS（跨域资源共享） 和反向代理。本文结合全域生活平台的示例，详解这两种方案的原理、应用场景及踩坑要点。\n注：后文会详细讲解 Nginx 反向代理（这是前端程序员的必备知识） 一、问题背景：为什么会跨域？ 先看我们的项目环境：\n前端（Vue）运行在 http://localhost:8081（通过vue.config.js配置）； 后端（Express）运行在 http://localhost:8080（接口路径如/api/merchant）。 浏览器的同源策略要求“协议+域名+端口”完全一致，因此前端直接请求后端接口会触发跨域错误——比如控制台提示No 'Access-Control-Allow-Origin' header is present on the requested resource。\n二、CORS：后端主导的跨域解决方案 CORS 是 W3C 标准，通过后端设置响应头允许指定源的跨域请求，是最直接的跨域方案之一。以下是两种常见的 CORS 配置方式：\n1. 方案 1：使用cors中间件（便捷高效） Express 生态提供了cors包，可一键配置跨域规则，也是项目中最常用的方式：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 // 使用cors中间件的Express代码 const express = require(\u0026#34;express\u0026#34;); const cors = require(\u0026#34;cors\u0026#34;); const app = express(); app.use(express.json()); // 全局启用cors，默认允许所有源（生产环境建议指定具体源） app.use( cors({ origin: \u0026#34;http://localhost:8081\u0026#34;, // 仅允许前端8081端口访问 methods: [\u0026#34;GET\u0026#34;, \u0026#34;POST\u0026#34;, \u0026#34;PUT\u0026#34;, \u0026#34;DELETE\u0026#34;, \u0026#34;OPTIONS\u0026#34;], // 允许的请求方法 allowedHeaders: [\u0026#34;Content-Type\u0026#34;, \u0026#34;Authorization\u0026#34;], // 允许的请求头 }) ); // 接口路由 const merchantRouder = require(\u0026#34;./routes/merchant\u0026#34;); const customerRouder = require(\u0026#34;./routes/service\u0026#34;); const orderRouder = require(\u0026#34;./routes/order\u0026#34;); app.use(\u0026#34;/api/merchant\u0026#34;, merchantRouder); app.use(\u0026#34;/api/service\u0026#34;, customerRouder); app.use(\u0026#34;/api/order\u0026#34;, orderRouder); app.listen(8080, () =\u0026gt; { console.log(\u0026#34;服务器启动成功！\u0026#34;); console.log(\u0026#34;http://localhost:8080\u0026#34;); }); 这种方式无需手动处理预检请求，cors包会自动拦截OPTIONS请求并返回正确响应头。\n2. 方案 2：手动配置 CORS（深入原理） 若不想依赖第三方包，可手动设置响应头并处理预检请求（适合理解 CORS 底层逻辑）：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 // 手动处理CORS的Express代码 const express = require(\u0026#34;express\u0026#34;); const app = express(); app.use(express.json()); // 自定义跨域中间件 app.use((req, res, next) =\u0026gt; { // 允许前端8081端口访问 res.setHeader(\u0026#34;Access-Control-Allow-Origin\u0026#34;, \u0026#34;http://localhost:8081\u0026#34;); // 允许的请求方法（覆盖所有常用HTTP方法） res.setHeader( \u0026#34;Access-Control-Allow-Methods\u0026#34;, \u0026#34;GET, POST, PUT, DELETE, OPTIONS\u0026#34; ); // 允许的请求头（支持JSON、Token等） res.setHeader(\u0026#34;Access-Control-Allow-Headers\u0026#34;, \u0026#34;Content-Type, Authorization\u0026#34;); // 处理OPTIONS预检请求（非简单请求必加） if (req.method === \u0026#34;OPTIONS\u0026#34;) { return res.sendStatus(200); // 预检请求直接返回200，不进入业务路由 } next(); // 非预检请求，继续执行后续中间件/路由 }); // 接口路由不变 app.use(\u0026#34;/api/merchant\u0026#34;, require(\u0026#34;./routes/merchant\u0026#34;)); app.use(\u0026#34;/api/service\u0026#34;, require(\u0026#34;./routes/service\u0026#34;)); app.use(\u0026#34;/api/order\u0026#34;, require(\u0026#34;./routes/order\u0026#34;)); app.listen(8080, () =\u0026gt; { console.log(\u0026#34;服务器启动成功！http://localhost:8080\u0026#34;); }); 3. CORS 的关键细节 预检请求（OPTIONS）：前端发送PUT/DELETE或带自定义头的请求时，浏览器会先发OPTIONS请求“探路”，后端必须正确响应才能触发真实请求； Access-Control-Allow-Origin：生产环境需指定具体域名（如https://your-domain.com），而非通配符*（否则前端无法携带 Cookie/Token）； 简单请求豁免预检：GET/POST/HEAD请求且请求头仅含Accept/Content-Type等基础字段时，无需预检。 三、devServer 反向代理：前端开发环境的跨域捷径 虽然 CORS 能解决跨域，但开发阶段频繁修改后端配置效率低。Vue CLI 的devServer.proxy通过反向代理绕过浏览器跨域限制，是更优雅的开发方案。\n1. 反向代理的工作原理 devServer.proxy让前端开发服务器充当“中间人”：\n前端请求同源的开发服务器（如http://localhost:8081/api/merchant）； 开发服务器将请求转发给后端（http://localhost:8080/api/merchant）； 后端响应结果由开发服务器回传给前端。 整个过程中浏览器仅与同源的localhost:8081交互，自然不会触发跨域限制。\n2. 前端配置源码解析（vue.config.js） 1 2 3 4 5 6 7 8 9 10 11 12 13 14 // web-admin/vue.config.js module.exports = { devServer: { port: 8081, // 前端开发端口（避开后端8080端口冲突） open: true, // 启动后自动打开浏览器 proxy: { \u0026#34;/api\u0026#34;: { target: \u0026#34;http://localhost:8080\u0026#34;, // 后端接口真实地址 changeOrigin: true, // 模拟后端服务器的Origin（关键！避免后端跨域拦截） // pathRewrite: { \u0026#34;^/api\u0026#34;: \u0026#34;\u0026#34; }, // 后端接口无/api前缀时启用（如后端是/merchant） }, }, }, }; 3. 关键配置说明 target：后端接口的根地址； changeOrigin: true：让后端误以为请求来自localhost:8080（同源），避免后端的跨域拦截逻辑； pathRewrite：示例中注释掉是因为后端接口带/api前缀（如/api/merchant），若后端接口无/api，需通过此配置去掉前缀。 4. 踩坑实录：为什么去掉 CORS 仍报错？ 很多开发者疑惑：“明明配了devServer.proxy，为什么后端去掉 CORS 还是报跨域错？”\n核心原因是非简单请求的OPTIONS预检请求会被代理转发到后端，而后端未处理预检——哪怕前端用了代理，浏览器收到后端非法的预检响应后，仍会判定跨域失败。\n（1）预检请求的“转发陷阱” 前端devServer.proxy会转发所有请求（包括OPTIONS预检请求）到后端。比如前端发送POST /api/merchant（带 JSON 数据，属于非简单请求）：\n浏览器先发送OPTIONS /api/merchant到前端开发服务器（localhost:8081）； 开发服务器把这个OPTIONS请求转发到后端（localhost:8080/api/merchant）； 若后端没配置 CORS、也没手动处理OPTIONS，会返回无跨域响应头的默认响应（甚至 404）； 浏览器收到这个非法响应，直接抛出跨域错误，真实的POST请求根本不会发送。 你的后端代码（去掉cors且无预检处理）：\n1 2 3 4 // 后端未处理OPTIONS预检请求 app.use(express.json()); // 无CORS配置，也无OPTIONS处理逻辑 app.use(\u0026#34;/api/merchant\u0026#34;, merchantRouder); 此时后端对OPTIONS请求的响应里没有Access-Control-Allow-Origin等头，浏览器自然判定跨域失败。\n（2）开发环境最优解：保留代理+后端极简预检处理 所谓“后端无需配置 CORS”，并非完全不用处理跨域，而是不用依赖cors包，但需手动处理预检请求（仅需几行代码）：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 const express = require(\u0026#34;express\u0026#34;); const app = express(); app.use(express.json()); // 极简预检处理（开发环境够用） app.use((req, res, next) =\u0026gt; { // 允许前端源（开发环境可直接用*，生产环境需指定域名） res.setHeader(\u0026#34;Access-Control-Allow-Origin\u0026#34;, \u0026#34;*\u0026#34;); // 允许的请求方法和头（覆盖非简单请求需求） res.setHeader( \u0026#34;Access-Control-Allow-Methods\u0026#34;, \u0026#34;GET, POST, PUT, DELETE, OPTIONS\u0026#34; ); res.setHeader(\u0026#34;Access-Control-Allow-Headers\u0026#34;, \u0026#34;Content-Type\u0026#34;); // 拦截OPTIONS预检请求，直接返回200 if (req.method === \u0026#34;OPTIONS\u0026#34;) { return res.sendStatus(200); } next(); }); app.use(\u0026#34;/api/merchant\u0026#34;, merchantRouder); // ...其他路由 app.listen(8080); 这样后端能合法响应预检请求，前端代理就能正常工作——既不用装cors包，也能避免跨域错误。\n（3）简单请求的“例外情况” 如果前端只发简单请求（比如GET /api/merchant，无自定义头、无复杂数据），即使后端没处理预检，也可能成功：\n简单请求不会触发OPTIONS预检，前端代理直接转发GET请求到后端； 后端返回数据给前端服务器，前端服务器再返回给浏览器（浏览器只看前端服务器的同源响应，不会校验后端的跨域头）。 但只要涉及POST（JSON 数据）、PUT/DELETE等非简单请求，必须处理预检，否则必报错。\n四、Nginx 反向代理：生产环境的终极方案 devServer.proxy仅适用于开发环境，生产环境需用 Nginx 反向代理——既能解决跨域，又能优化资源加载和接口转发，是前端部署的标配。\n1. Nginx 反向代理的优势 统一域名：将前端静态资源和后端接口代理到同一域名下（如https://your-domain.com）； 性能优化：支持缓存、压缩、负载均衡； 安全防护：隐藏后端真实地址，降低攻击风险。 2. Nginx 配置示例 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 # nginx.conf 或 conf.d/your-project.conf server { listen 80; # 监听80端口（HTTP） server_name your-domain.com; # 生产环境域名 # 前端静态资源配置（Vue打包后的dist目录） location / { root /usr/share/nginx/html/your-project; # 前端dist目录路径 index index.html index.htm; # 默认首页 try_files $uri $uri/ /index.html; # 解决Vue History路由刷新404问题 } # 后端接口反向代理 location /api { proxy_pass http://localhost:8080; # 转发到后端服务地址 proxy_set_header Host $host; # 传递请求主机名 proxy_set_header X-Real-IP $remote_addr; # 传递客户端真实IP proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; # 传递代理链IP } } 3. HTTPS 配置（生产环境必加） 若需支持 HTTPS，只需添加 SSL 证书配置：\n1 2 3 4 5 6 7 8 9 10 server { listen 443 ssl; server_name your-domain.com; # SSL证书路径 ssl_certificate /etc/nginx/ssl/your-domain.crt; ssl_certificate_key /etc/nginx/ssl/your-domain.key; # 前端静态资源+接口代理配置同上... } 五、总结 开发环境：优先使用devServer.proxy反向代理，无需频繁修改后端配置； 生产环境：推荐 Nginx 反向代理（统一域名+性能优化），或后端配置 CORS（不常用，这算黑魔法）； CORS 核心：处理预检请求+设置正确的响应头； 反向代理核心：让前端请求同源地址，由代理服务器转发到后端。 结合源码理解这两种方案，跨域问题就能迎刃而解！\n","date":"2025-11-29T22:36:00+08:00","permalink":"https://ye-guan-xing.github.io/p/%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98%E8%AE%B2%E8%A7%A3/","title":"跨域问题讲解"},{"content":"说明 我这里写个是为了做一下整理 我觉得有趣，如果开发累了，可以换一换脑子 注：题目可直抵题目，所以不写题目内容 题目讲解 两数之和 哈哈哈,虽然这是讲 hot150,但是这道题还是 要说说的 暴力法 暴力法就是遍历所有数，然后两两相加，如果和等于目标值，则返回结果，否则返回-1 1 2 3 4 5 6 7 8 9 10 11 12 13 14 class Solution { public: vector\u0026lt;int\u0026gt; twoSum(std::vector\u0026lt;int\u0026gt;\u0026amp; nums, int target) { int n = nums.size(); for (int i = 0; i \u0026lt; n; i++) { for (int j = i + 1; j \u0026lt; n; j++) { if (nums[i] + nums[j] == target) { return {i, j}; } } } return {}; } }; 哈希表 哈希表就是将数组中的数作为键，索引作为值，然后遍历数组，将每个数作为键，索引作为值，如果哈希表中存在目标值，则返回结果，否则返回-1 时间复杂度：O(n) 为什么可以优化时间呢？ 因为哈希表的查找时间杂度是 O(1)，而数组的查找时间复杂度是 O(n)，所以哈希表可以提高查找效率。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 class Solution { public: vector\u0026lt;int\u0026gt; twoSum(std::vector\u0026lt;int\u0026gt;\u0026amp; nums, int target) { int n = nums.size(); unordered_map\u0026lt;int,int\u0026gt;mp; for(int i=0;i\u0026lt;n;i++){ if(mp.find(target-nums[i])!=mp.end()){ return {i,mp[target-nums[i]]}; } mp[nums[i]]=i; } return {}; } }; 删除有序数组中的重复项 这里将 I 和 II 的解法都给出，并给出过程 题目 I 我的想法是这样的，没什么好说的，stl 大法好 1 2 3 4 5 6 7 class Solution { public: int removeDuplicates(vector\u0026lt;int\u0026gt;\u0026amp; nums) { nums.erase(unique(nums.begin(),nums.end()),nums.end()); return nums.size(); } }; 如果不能用呢？用快慢指针，慢指针最后的位置就是去重后的数组长度，可以优化空间复杂度虽然空间不值钱 1 2 3 4 5 6 7 8 9 10 11 12 13 class Solution { public: int removeDuplicates(vector\u0026lt;int\u0026gt;\u0026amp; nums) { int k=0; for(int i=0;i\u0026lt;nums.size();i++){ if(nums[i]!=nums[k]){ k++; nums[k]=nums[i]; } } return k+1;//从0开始计数 } }; 题目 II 我的思路：遍历数组，判断当前元素是否和前两个元素相同，相同则跳过，不同则赋给下一个位置好像也是双指针 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 class Solution { public: int removeDuplicates(vector\u0026lt;int\u0026gt;\u0026amp; nums) { int n=nums.size(); if(n\u0026lt;=2) return n; int j=2; for(int i=2;i\u0026lt;n;i++){ if(nums[i]!=nums[j-2]){ nums[j]=nums[i]; j++; } //相同则跳过 } return j; } }; 双指针思路：同一的快慢指针思路，只是判断条件不同 O(n) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 class Solution { public: int removeDuplicates(vector\u0026lt;int\u0026gt;\u0026amp; nums) { int n=nums.size(); if(n\u0026lt;=2) return n; int j=0; int cnt=1; for(int i=1;i\u0026lt;n;i++){ if(nums[i]==nums[j]){ if(cnt\u0026gt;=2) continue; cnt++; j++; nums[j]=nums[i]; } else{ cnt=1; j++; nums[j]=nums[i]; } } return j+1; } }; O(1) 时间插入、删除和获取随机元素 说实话我不会，这是我想的，算暴力吧 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 class RandomizedSet { public: RandomizedSet() { srand(time(0)); } int find(int val){ for(int i = 0; i \u0026lt; a.size(); i++){ if (a[i] == val){ return i; } } return -1; } bool insert(int val) { int loc=find(val); if(loc==-1){ a.push_back(val); return 1; } return 0; } bool remove(int val) { int loc=find(val); if(loc==-1) return 0; else{ a.erase(a.begin()+loc); return 1; } } int getRandom() { if(a.size()==0) return 0; return a[rand()%a.size()]; } public: vector\u0026lt;int\u0026gt;a; }; 过了好一段时间，才想到的哈希 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 class RandomizedSet { public: unordered_map\u0026lt;int, int\u0026gt; mp; vector\u0026lt;int\u0026gt; a; RandomizedSet() { srand(time(0)); } int find(int val) { if (mp.count(val)) { return mp[val]; } return -1; } bool insert(int val) { if (find(val) != -1) { return false; } a.push_back(val); mp[val] = a.size() - 1; //这两步写完，才算完成。 return true; } bool remove(int val) { int loc = find(val); if (loc == -1) { return false; } int last = a.back(); a[loc] = last; mp[last] = loc; mp.erase(val); a.pop_back(); return true; } int getRandom() { if (a.empty()) return 0; return a[rand() % a.size()]; } }; 讲解一下remove()方法(不太好想) 先明确两个前提：\n数组a的特点：尾部增删元素（push_back/pop_back）是 O (1) 时间，但中间删除元素（erase）是 O (n) 时间（因为后面的元素要整体前移）。 哈希表mp的作用：记录 “元素值→数组索引”，比如mp[3]=2表示元素 3 在数组a的索引 2 位置。 你可能觉得 “元素要相连才合理”，但的核心需求是： 插入 / 删除 / 随机访问都是 O (1)； 元素不重复。 它不要求元素保持任何顺序，所以哪怕用 “八竿子打不着的最后一个元素” 替换，只要最终删掉了目标元素，且哈希表映射正确，就完全符合要求。 其实你想想这是一个误区，数组的顺序反而不重要 接雨水 网红题目,不必多言据说字节的扫地阿姨都会做 我的思路：其实我不理解为什么说难看一个柱子能接多少水，应该就能想到贪心+双指针/单调栈 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 class Solution { public: int trap(vector\u0026lt;int\u0026gt;\u0026amp; height) { int lmax=0,rmax=0; int l=0,r=height.size()-1; int n=height.size(); int ans=0; while(l\u0026lt;r){ lmax=max(lmax,height[l]); rmax=max(rmax,height[r]); if(lmax\u0026gt;rmax) { ans+=rmax-height[r]; r--; } else{ ans+=lmax-height[l]; l++; } } return ans; } }; ","date":"2025-11-28T08:36:00+08:00","permalink":"https://ye-guan-xing.github.io/p/%E5%8A%9B%E6%89%A3hot150%E7%B2%BE%E8%AE%B2/","title":"力扣hot150(精讲)"},{"content":"为什么要写这 OJ 平台+项目架构图？ 在完成全域生活服务平台后，相信大家对整个前后端开发开发流程应该都有简单一定了解了，下面我将分享 OJ 平台的搭建和细节处理。 这次我将专注于前端的开发的分享，后端开发将有我的好友 shuimo 来搭建，如果有机会我会让他来分享开发经验。 项目架构图 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 src/ ├── api/ # 接口调用模块 │ ├── problem.js # 题目相关接口 │ ├── submission.js # 提交相关接口 │ ├── user.js # 用户相关接口 │ └── admin.js # 【新增】管理员专属接口（如题目/用户管理） ├── assets/ # 静态资源 │ ├── images/ # 图片资源 │ └── styles/ # 全局样式 │ ├── common.scss # 通用样式 │ ├── variables.scss # 样式变量 │ └── admin.scss # 【新增】管理员页面专属样式 ├── components/ # 可复用组件 │ ├── common/ # 通用组件 │ │ ├── AppNavbar.vue # 导航栏 │ │ ├── AppFooter.vue # 页脚 │ │ ├── Pagination.vue # 【新增】分页组件 │ │ └── SearchInput.vue # 【新增】搜索输入框 │ ├── problem/ # 题目相关组件 │ │ ├── ProblemDetail.vue # 题目详情展示 │ │ ├── ProblemItem.vue # 题目列表项 │ │ ├── ProblemTags.vue # 题目标签 │ │ └── ProblemForm.vue # 【新增】题目编辑/创建表单 │ ├── submission/ # 提交相关组件 │ │ ├── CodeEditor.vue # 代码编辑器 │ │ ├── SubmissionItem.vue # 提交记录项 │ │ └── SubmissionList.vue # 提交记录列表 │ └── admin/ # 【新增】管理员专属组件目录 │ ├── UserItem.vue # 【新增】用户列表项（管理员页） │ └── StatusFilter.vue # 【新增】状态筛选组件（管理员页） ├── layouts/ # 布局组件 │ ├── MainLayout.vue # 主布局（Navbar+内容区+Footer） │ └── AdminLayout.vue # 【新增】管理员布局（含侧边管理菜单） ├── router/ # 路由管理 │ ├── index.js # 路由配置入口 │ ├── routes.js # 公共路由规则 │ └── adminRoutes.js # 【新增】管理员专属路由规则 ├── store/ # 状态管理 (Vuex 4) │ ├── index.js # Vuex实例 │ ├── getters.js # 全局getters │ └── modules/ # 模块 │ ├── user.js # 用户状态 │ ├── problem.js # 题目状态 │ ├── submission.js # 提交状态 │ └── admin.js # 【新增】管理员状态（如管理列表筛选条件） ├── utils/ # 工具函数 │ ├── request.js # axios封装 │ ├── auth.js # 权限处理 │ ├── format.js # 格式化工具 │ └── constant.js # 常量定义 ├── views/ # 页面级组件 │ ├── AppHome.vue # 主页 │ ├── NotFound.vue # 404页面 │ ├── login/ # 登录相关页面 │ │ └── AppLogin.vue # 登录页（核心） │ ├── problem/ # 题目相关页面 │ │ ├── ProblemList.vue # 题目列表页 │ │ └── ProblemDetailView.vue # 题目详情页 │ ├── submission/ # 提交相关页面 │ │ └── SubmissionHistory.vue # 提交历史页 │ ├── user/ # 用户相关页面 │ │ ├── UserProfile.vue # 用户个人资料页 │ │ └── UserSetting.vue # 【新增】用户设置页（密码/信息修改） │ └── admin/ # 管理员专属页面 │ ├── ProblemManagement.vue # 题目管理页 │ ├── ProblemEdit.vue # 题目编辑/创建页 │ └── UserManagement.vue # 【新增】用户管理页（管理员专属） ├── App.vue # 根组件 └── main.js # 入口文件 技术栈和环境 核心技术栈 Vue 3：核心前端框架（用于构建用户界面） Vue Router 4：路由管理（控制页面跳转） Vuex 4：状态管理（存储全局共享数据，如用户信息、题目列表） axios：网络请求库（调用后端 API 接口） SCSS/Sass：CSS 预处理器（编写更简洁、可维护的样式） JavaScript：核心编程语言（ES6+ 语法） HTML5/CSS3：页面结构与基础样式 开发环境 Node.js：运行环境（需安装，推荐 v14+） npm/yarn：包管理工具（安装项目依赖） VS Code：推荐编辑器（搭配 Vue 插件如 Vetur/Volar 提升开发效率） 浏览器：Chrome/Firefox（用于调试） 构建工具：Vite 或 Vue CLI（用于项目构建、开发服务器启动） 文件作用（按目录逐个分析） 先明确核心逻辑：用户操作 → 路由跳转 → 页面（views）渲染 → 组件（components）拼接 → api 调用数据 → store 存储状态 → 视图更新\napi/：接口调用模块（前端 → 后端的“通信员”） 每个文件对应一类功能的后端接口，比如 problem.js 里写“获取题目列表”“获取题目详情”的请求，submission.js 里写“提交代码”“获取提交记录”的请求 作用：统一管理所有后端接口，避免在组件里零散写请求，方便维护（比如后端接口地址变了，只改这里） 依赖：用 axios 发请求，会调用 utils/request.js 封装好的请求工具 assets/：静态资源（项目的“素材库”） images/：放图片（比如 logo、图标、背景图） styles/：放全局样式 common.scss：通用样式（比如按钮、字体、边距的统一样式） variables.scss：样式变量（比如主题色 $primary-color: #42b983，方便全局修改） admin.scss：管理员页面专属样式（和普通页面样式隔离） 作用：存储项目中不会动态变化的资源，比如图片、固定样式 components/：可复用组件（项目的“积木”） 按功能拆分目录，比如 common/ 是所有页面都能用的通用组件，problem/ 是题目相关的专属组件 例子： common/AppNavbar.vue：顶部导航栏（每个页面都显示，包含 logo、登录按钮、用户头像） problem/ProblemItem.vue：题目列表里的“每一行”（重复出现，所以做成组件） submission/CodeEditor.vue：写代码的编辑器（题目详情页要用，单独做成组件） 作用：把重复出现的界面部分做成组件，避免重复代码，比如导航栏不用在每个页面都写一遍 layouts/：布局组件（项目的“页面框架”） MainLayout.vue：普通用户的布局（包含 导航栏 + 中间内容区 + 页脚） AdminLayout.vue：管理员的布局（包含 侧边管理菜单 + 顶部栏 + 中间内容区） 作用：统一页面的整体结构，比如普通用户访问任何页面，都有相同的导航栏和页脚，不用每个页面都写 router/：路由管理（项目的“导航地图”） index.js：路由入口（把所有路由规则组装起来，告诉 Vue 怎么跳转） routes.js：普通用户的路由（比如“主页”“题目列表”“登录页”） adminRoutes.js：管理员专属路由（比如“题目管理”“用户管理”，普通用户进不去） 核心逻辑：用户点击“题目列表”，路由匹配到 /problems，然后显示 views/problem/ProblemList.vue 页面 依赖：会用 utils/auth.js 判断用户是否登录、是否是管理员，控制权限（比如没登录不能进题目详情页） store/：状态管理（项目的“全局数据仓库”） 所有组件都能访问这里的数据，比如“当前登录的用户信息”“题目列表数据”“提交记录” 结构： index.js：Vuex 实例（把所有模块组装起来） getters.js：全局获取状态的方法（比如 getUserInfo() 直接拿到用户信息，不用写复杂路径） modules/：按功能拆分模块（避免数据混乱），比如 user.js 存用户相关状态，problem.js 存题目相关状态 例子：用户登录成功后，把用户信息（用户名、头像、角色）存到 store/modules/user.js 里，然后所有页面都能通过 store.getters.getUserInfo 获取到这个信息 utils/：工具函数（项目的“小工具库”） request.js：封装 axios（比如统一加请求头、处理错误提示、添加加载动画） auth.js：权限处理（判断用户是否登录、是否是管理员，控制路由跳转） format.js：格式化工具（比如把时间戳改成“2025-11-24 17:44”，把提交结果“AC”改成“通过”） constant.js：常量定义（比如接口地址前缀 BASE_URL: 'http://localhost:8080/api'，题目难度 DIFFICULTY: { EASY: 1, MEDIUM: 2, HARD: 3 }） 作用：封装常用的工具方法，避免重复代码，比如格式化时间不用在每个组件里都写一遍 views/：页面级组件（项目的“具体页面”） 每个文件是一个完整的页面，比如 AppHome.vue 是主页，ProblemList.vue 是题目列表页 特点：页面里会引用 components/ 里的组件，比如 ProblemList.vue 里会用 ProblemItem（题目项）、Pagination（分页）、SearchInput（搜索框）拼出整个页面 核心逻辑：页面加载时，调用 api/ 里的接口获取数据，把数据存到 store/ 里，然后渲染组件 App.vue：根组件（项目的“根容器”） 所有页面都是通过这个组件渲染的，里面主要包含 router-view（路由视图，显示当前跳转的页面） 简单说：App.vue 是“容器”，路由跳转到哪个页面，router-view 就显示哪个页面 main.js：入口文件（项目的“启动开关”） 初始化 Vue 实例，把 router（路由）、store（状态管理）挂载到 Vue 上，然后挂载 App.vue 根组件\n代码大概长这样：\n1 2 3 4 5 6 7 8 9 10 import { createApp } from \u0026#34;vue\u0026#34;; import App from \u0026#34;./App.vue\u0026#34;; import router from \u0026#34;./router\u0026#34;; import store from \u0026#34;./store\u0026#34;; import \u0026#34;./assets/styles/common.scss\u0026#34;; // 引入全局样式 createApp(App) .use(router) // 使用路由 .use(store) // 使用状态管理 .mount(\u0026#34;#app\u0026#34;); // 把 App 组件挂载到页面的 #app 元素上 作用：启动项目时，先执行这个文件，把所有东西组装起来，然后显示页面\n我们来给核心业务流程解析加上具体的组件和文件名称，这样能让你更清晰地看到整个项目的运行脉络。\n核心业务流程解析（含组件/文件名称） 场景 1：用户登录 用户访问项目：用户在浏览器输入网址，main.js 启动应用，router/index.js 中的路由守卫判断用户未登录，自动跳转到登录页 views/login/AppLogin.vue。 用户输入并提交：用户在 AppLogin.vue 的登录表单中输入用户名和密码，点击“登录”按钮。 调用登录接口：AppLogin.vue 的脚本部分调用 api/user.js 中的 login 函数。 发送请求与拦截：api/user.js 内部使用 utils/request.js 封装的 axios 实例发送 POST 请求。request.js 的请求拦截器此时还没有 Token 可以添加。 后端验证并返回 Token：后端服务器验证账号密码正确后，返回包含 Token 的 JSON 数据。 存储 Token 和用户信息： AppLogin.vue 在收到成功响应后，将 Token 存入 localStorage 和 store/modules/user.js 的 state.token 中。 紧接着，调用 store/modules/user.js 的 GetUserInfo action。 GetUserInfo action 调用 api/user.js 的 getUserInfo 函数，request.js 的请求拦截器自动从 localStorage 中读取 Token 并添加到请求头 Authorization 中。 后端验证 Token 有效，返回用户信息。 GetUserInfo action 将用户信息存入 store/modules/user.js 的 state.userInfo 中。 跳转页面：登录成功后，AppLogin.vue 中的代码通过 router.push() 跳转到用户最初想访问的页面（或主页 views/AppHome.vue）。 更新导航栏：components/common/AppNavbar.vue 组件通过 store.getters 监听 userInfo 的变化，一旦有值，就会显示用户名和头像，隐藏“登录”按钮。 场景 2：用户查看题目列表 用户点击导航：用户点击 components/common/AppNavbar.vue 中的“题目列表”链接。 路由守卫验证：router/index.js 的路由守卫检查到 /problems 路由需要登录（meta.requireAuth: true），且 localStorage 中有 Token，允许跳转。 渲染页面：路由跳转到 views/problem/ProblemList.vue 页面。该页面使用 layouts/MainLayout.vue 布局。 获取并渲染题目数据： ProblemList.vue 在 onMounted 钩子中，调用 store/modules/problem.js 的 GetProblemList action。 GetProblemList action 调用 api/problem.js 的 getProblemList 函数，携带分页和筛选参数。 request.js 的请求拦截器自动添加 Token 到请求头。 后端返回题目列表数据。 GetProblemList action 将数据存入 store/modules/problem.js 的 state.problemList 和 state.totalCount 中。 ProblemList.vue 从 store 中读取 problemList，并使用 v-for 循环，通过 components/problem/ProblemItem.vue 组件来渲染每一道题目的信息。同时，使用 components/common/Pagination.vue 组件来展示和处理分页逻辑。 用户点击题目：用户点击某个 ProblemItem.vue 组件。 跳转到题目详情页：ProblemItem.vue 中的链接触发路由跳转，导航到 views/problem/ProblemDetailView.vue 页面，并携带题目 ID 参数。 渲染题目详情： ProblemDetailView.vue 在 onMounted 钩子中，根据 URL 中的 ID，调用 store/modules/problem.js 的 GetProblemDetail action。 该 action 调用 api/problem.js 的 getProblemDetail 函数获取具体题目信息。 数据返回后，ProblemDetailView.vue 渲染 components/problem/ProblemDetail.vue（展示题干、输入输出等）和 components/submission/CodeEditor.vue（供用户编写代码）。 场景 3：用户提交代码 用户编写并提交代码：用户在 components/submission/CodeEditor.vue 中编写代码，选择编程语言后，点击“提交”按钮。 调用提交接口：CodeEditor.vue 组件的提交事件触发 store/modules/submission.js 的 SubmitCode action，并传入题目 ID、代码和语言。 发送提交请求：SubmitCode action 调用 api/submission.js 的 submitCode 函数。request.js 自动添加 Token。 处理提交结果： 后端返回提交成功的响应（可能包含一个 submissionId）。 SubmitCode action 可以将新的提交记录添加到 store/modules/submission.js 的 state.submissionList 中。 CodeEditor.vue 收到成功回调后，可能会显示提示信息，并清空编辑器或跳转到提交历史。 查看提交历史：用户点击导航栏的“提交历史”或页面内的相关链接，路由跳转到 views/submission/SubmissionHistory.vue。 渲染提交记录： SubmissionHistory.vue 在 onMounted 时调用 store/modules/submission.js 的 GetSubmissionHistory action。 该 action 调用 api/submission.js 的 getSubmissionHistory 函数获取该用户的所有提交记录。 数据返回后，SubmissionHistory.vue 使用 v-for 和 components/submission/SubmissionItem.vue 组件来渲染每一条提交记录的状态（通过/失败、用时、内存等）。 通过这种方式，你可以清晰地看到一个用户操作是如何从一个组件流转到另一个组件，如何与 Vuex 和 API 交互，最终完成整个业务逻辑的。\n总结 这个项目的设计哲学可以归纳为以下几点：\n模块化和分离关注点 (Separation of Concerns)：\n清晰地将 UI (视图)、业务逻辑 (Vuex)、API 交互 (api/) 和路由 (router/) 分开。 每个文件和目录都有其明确的、单一的职责。这使得代码更易于理解、维护和测试。 组件化 (Component-Based)：\nUI 被拆分为一个个独立的、可复用的组件。 这极大地提高了代码的复用性，减少了冗余，并使得构建复杂界面变得更加简单和高效。 数据驱动 (Data-Driven)：\n应用的状态 (State) 是核心。UI 的变化是对状态变化的响应。 通过 Vuex 集中管理状态，使得数据流向清晰（单向数据流），易于追踪和调试。 可扩展性和可维护性：\n目录结构清晰，易于导航。 新增功能（如管理员模块）时，可以在不破坏现有结构的情况下，在对应的目录（如 views/admin, components/admin）下进行开发。 统一的请求封装 (utils/request.js) 和工具函数 (utils/) 使得未来的修改（如更换 API 地址、统一错误处理）变得非常方便。 关注点分离：\n前端只负责展示和用户交互，后端负责业务逻辑和数据存储。 这种前后端分离的模式使得前后端团队可以独立开发、测试和部署，提高了开发效率。 ","date":"2025-11-23T17:36:00+08:00","permalink":"https://ye-guan-xing.github.io/p/%E6%A0%A1%E5%9B%ADoj%E5%BC%80%E5%8F%91/","title":"校园OJ开发"},{"content":"大一新生IT学习路线指南 亲爱的大一新生，刚踏入大学，面对丰富多彩的IT领域或许会有些迷茫，这里学长给一些路径建议：\n算法竞赛 -算法竞赛1970年代起步，1990-2000年代兴盛，21世纪后趋稳定,其中ACM-ICPC为计算机竞赛含金量之最，获奖者多能获得计算机大厂offer。\n链接：算法竞赛 PS(如果有天赋，有恒心，有毅力，在经过测验后(或Codeforces1200分以上)，可以找我们参加明年的HBCPC). 白名单竞赛推荐 竞赛名称 官网链接 ACM-ICPC国际大学生程序设计竞赛 https://icpc.global/ 中国大学生程序设计竞赛（CCPC） https://ccpc.io/ 中国高校计算机大赛（天梯赛） http://www.c4best.cn/ 蓝桥杯全国软件和信息技术专业人才大赛 http://dasai.lanqiao.cn/ 百度之星程序设计大赛 https://star.baidu.com/#/ 码蹄杯全国职业院校程序设计大赛 https://matiji.net/matibei 睿抗机器人开发者大赛(RAICOM) https://www.robocom.com.cn/ 人工智能方向 在50-60年代兴起，人们一直在努力，于2012引爆深度学习，在之后，CharGPT和Deepseek、GPT3等模型，被用于各种领域，如图像识别、语音识别、文本生成、代码生成、翻译等，到现在已成为最热门的方向，其就业岗位，薪资高、门槛高\u0026ndash;多在研究生为主 机器学习 学习路线链接：机器学习 简介：机器学习是人工智能的核心，通过算法让计算机从数据中“学习规律”。你将学习决策树、支持向量机等各类机器学习算法，并用它们解决分类、回归、聚类等实际问题。 深度学习 学习路线链接：深度学习 简介：深度学习是机器学习的“进阶版”，通过神经网络模拟人脑学习。你将学习CNN（卷积神经网络）、RNN（循环神经网络）等网络结构，应用于图像识别、语音识别、自然语言处理等复杂场景。 自然语言处理（NLP） 学习路线链接：自然语言处理NLP 简介：NLP让计算机“理解人类语言”。学习后你可以掌握分词、语义分析、情感识别等技术，开发聊天机器人、智能问答、机器翻译等应用。 计算机视觉（CV）工程师 学习路线链接：计算机视觉cv工程师 简介：CV让计算机“看见并理解世界”。你将学习图像处理、目标检测、图像识别等技术，应用于自动驾驶、人脸识别、工业质检等领域。 前端开发 路线图链接：前端开发的路线图 简介：前端开发聚焦于网页的“视觉与交互”，从精美界面到灵动交互效果都由前端工程师打造。就业市场上，前端开发起步于2000年后（HTML/CSS普及、早期JavaScript简单应用落地），2015年后随React/Vue/Angular等框架爆发进入鼎盛期（企业对复杂交互、单页应用需求激增），2020年后需求趋于稳定（框架生态成熟，侧重工程化、跨端适配与性能优化）。跟着这份路线图，你可以系统学习HTML、CSS、JavaScript及各类前端框架，成长为能设计并实现炫酷网页的前端开发者。 Java后端开发 简介：Java后端开发是支撑企业业务逻辑的“核心骨架”，负责搭建服务器、处理数据交互与业务逻辑实现。就业市场上，Java后端起步于2000年左右（Java EE推出，企业级应用逐步采用），2010-2020年随微服务兴起、Spring生态成熟进入鼎盛期（成为各行业后端开发标配，需求爆发式增长），2020年后进入稳定期（需求保持高位稳定，侧重高并发、云原生适配与系统安全性）。学习这条路线，你会掌握Java核心语法、框架应用与服务器部署等知识，成长为能搭建稳定、高效企业后端系统的开发工程师。 数据分析 学习路线链接：数据分析学习路线 简介：数据分析是从海量数据中挖掘价值的“金矿挖掘术”。就业市场上，数据分析岗位起步于2010年左右（数据量激增，企业需专职人员提炼数据价值），2018-2023年随大数据技术成熟进入鼎盛期（各行业重视数据驱动，需求爆发），2023年后进入稳定期（需求平稳，侧重业务理解、数据建模与可视化深度）。通过这条路线，你将掌握Python、SQL等数据处理工具，以及数据分析方法和可视化技术，成为能从数据中发现规律、辅助业务决策的分析师。 移动开发 安卓开发 学习路线链接：安卓开发路线 简介：安卓开发专注于安卓手机应用的开发。就业市场上，安卓开发起步于2008年（安卓系统发布后，早期手机APP开发需求出现），2012-2018年随智能手机普及进入鼎盛期（社交、工具、电商类APP爆发，岗位需求旺盛），2018年后进入稳定期（需求趋于平稳，侧重跨端适配、性能优化与鸿蒙生态兼容）。学习后你可以掌握安卓开发框架、UI设计、性能优化等知识，打造各类安卓应用（如社交APP、工具类APP）。 鸿蒙开发 学习路线链接：鸿蒙开发路线 简介：鸿蒙是面向全场景的分布式操作系统，学习鸿蒙开发可以让你掌握其开发框架和生态，开发跨手机、平板、智能手表等设备的应用。就业市场上，鸿蒙开发起步于2020年（鸿蒙OS 2.0发布，生态逐步搭建），当前处于快速发展期（企业加速布局鸿蒙应用，需求逐步增长，尚未进入鼎盛），未来随生态完善（设备覆盖扩大、开发工具成熟）将进入稳定期，具备鸿蒙开发能力的人才在物联网、智能设备领域竞争力突出。 ","date":"2025-10-20T16:36:32+08:00","permalink":"https://ye-guan-xing.github.io/p/%E5%A4%A7%E4%B8%80%E7%9A%84%E5%AD%A6%E4%B9%A0%E8%B7%AF%E5%BE%84%E8%BD%AF%E4%BB%B6%E7%AF%87/","title":"大一的学习路径（软件篇）"},{"content":"全域生活服务平台 - 从零开始完整开发指南 🎯 项目概述 我们将构建一个完整的全域生活服务平台，包含：\nWeb 管理后台：管理员管理商家、服务、订单 微信小程序：用户浏览服务、下单 后端 API：Node.js + Express + MySQL 数据库：MySQL，使用 DataGrip 管理 🛠️ 阶段一：项目准备与环境搭建 第 1 步：安装必要软件 1.1 安装 Node.js（后端运行环境） 访问：Node.js 下载 LTS 版本（长期支持版） 双击安装，全部点\u0026quot;下一步\u0026quot; 验证安装：按 Win + R，输入 cmd 回车，输入： 1 node -v 显示版本号如 v18.x.x 即成功！\n1.2 安装 Vue CLI（网页管理后台工具） 在 cmd 中继续输入：\n1 npm install -g @vue/cli 等待安装完成（可能需要几分钟）\n1.3 安装微信开发者工具（小程序开发） 访问：微信开发者工具 下载\u0026quot;稳定版\u0026quot;，安装后用微信扫码登录 1.4 安装 MySQL（数据库） 访问：MySQL Community Server 下载 MySQL Community Server 安装时记住设置的root 密码（建议设为 123456） 1.5 安装 DataGrip（数据库可视化工具） 访问：DataGrip 下载安装，学生可免费使用（用教育邮箱注册） 或使用 30 天免费试用 第 2 步：创建项目文件夹结构 在 D 盘创建项目文件夹：\n1 2 3 4 D:/life-service/ ├── server/ （后端API） ├── web-admin/ （网页管理后台） └── mini-user/ （微信小程序） 第 3 步：配置 DataGrip 连接数据库 3.1 连接 MySQL 打开 DataGrip，点击 \u0026ldquo;New Project\u0026rdquo; 项目名称：life_service_platform 在右侧 \u0026ldquo;Database\u0026rdquo; 面板，点击 \u0026quot;+\u0026quot; → \u0026ldquo;Data Source\u0026rdquo; → \u0026ldquo;MySQL\u0026rdquo; 填写连接信息： 1 2 3 4 Host: localhost Port: 3306 User: root Password: 123456 （你设置的MySQL密码） 点击 \u0026ldquo;Test Connection\u0026rdquo;，看到 ✅ Success 表示成功 点击 \u0026ldquo;OK\u0026rdquo; 3.2 创建数据库 在 DataGrip 中执行 SQL 创建数据库：\n按 Ctrl+Enter 打开新查询窗口 输入并执行： 1 2 3 CREATE DATABASE IF NOT EXISTS life_service DEFAULT CHARACTER SET utf8mb4 DEFAULT COLLATE utf8mb4_unicode_ci; 3.3 创建数据表 在 DataGrip 中执行以下 SQL 创建表：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 -- 1. 商家表 CREATE TABLE merchants ( id INT PRIMARY KEY AUTO_INCREMENT COMMENT \u0026#39;商家ID\u0026#39;, name VARCHAR(100) NOT NULL COMMENT \u0026#39;商家名称\u0026#39;, address VARCHAR(200) NOT NULL COMMENT \u0026#39;地址\u0026#39;, phone VARCHAR(20) NOT NULL COMMENT \u0026#39;联系方式\u0026#39;, status TINYINT NOT NULL DEFAULT 0 COMMENT \u0026#39;状态：0-审核中，1-已通过\u0026#39;, create_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT \u0026#39;创建时间\u0026#39; ) COMMENT \u0026#39;商家表\u0026#39;; -- 2. 服务表 CREATE TABLE services ( id INT PRIMARY KEY AUTO_INCREMENT COMMENT \u0026#39;服务ID\u0026#39;, merchant_id INT NOT NULL COMMENT \u0026#39;关联商家ID\u0026#39;, name VARCHAR(100) NOT NULL COMMENT \u0026#39;服务名称\u0026#39;, price DECIMAL(10,2) NOT NULL COMMENT \u0026#39;价格\u0026#39;, category VARCHAR(50) NOT NULL COMMENT \u0026#39;分类\u0026#39;, image_url VARCHAR(200) COMMENT \u0026#39;图片地址\u0026#39;, stock INT NOT NULL DEFAULT 0 COMMENT \u0026#39;库存\u0026#39;, status TINYINT NOT NULL DEFAULT 0 COMMENT \u0026#39;状态：0-下架，1-上架\u0026#39;, create_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT \u0026#39;创建时间\u0026#39;, FOREIGN KEY (merchant_id) REFERENCES merchants(id) ON DELETE CASCADE ) COMMENT \u0026#39;服务表\u0026#39;; -- 3. 订单表 CREATE TABLE orders ( id INT PRIMARY KEY AUTO_INCREMENT COMMENT \u0026#39;订单ID\u0026#39;, service_id INT NOT NULL COMMENT \u0026#39;关联服务ID\u0026#39;, user_name VARCHAR(50) NOT NULL COMMENT \u0026#39;用户姓名\u0026#39;, user_phone VARCHAR(20) NOT NULL COMMENT \u0026#39;用户电话\u0026#39;, create_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT \u0026#39;下单时间\u0026#39;, status TINYINT NOT NULL DEFAULT 0 COMMENT \u0026#39;状态：0-待支付，1-已完成\u0026#39;, FOREIGN KEY (service_id) REFERENCES services(id) ON DELETE CASCADE ) COMMENT \u0026#39;订单表\u0026#39;; 3.4 插入测试数据 1 2 3 4 5 6 7 8 9 10 11 12 -- 插入测试商家 INSERT INTO merchants (name, address, phone, status) VALUES (\u0026#39;阳光家政\u0026#39;, \u0026#39;北京市朝阳区建国路100号\u0026#39;, \u0026#39;13800138000\u0026#39;, 1), (\u0026#39;快速维修\u0026#39;, \u0026#39;上海市浦东新区张江路200号\u0026#39;, \u0026#39;13900139000\u0026#39;, 1), (\u0026#39;保洁专家\u0026#39;, \u0026#39;广州市天河区体育西路300号\u0026#39;, \u0026#39;13700137000\u0026#39;, 1); -- 插入测试服务 INSERT INTO services (merchant_id, name, price, category, stock, status) VALUES (1, \u0026#39;日常保洁\u0026#39;, 150.00, \u0026#39;家政\u0026#39;, 10, 1), (1, \u0026#39;深度清洁\u0026#39;, 300.00, \u0026#39;家政\u0026#39;, 5, 1), (2, \u0026#39;空调维修\u0026#39;, 200.00, \u0026#39;维修\u0026#39;, 8, 1), (3, \u0026#39;办公室保洁\u0026#39;, 500.00, \u0026#39;保洁\u0026#39;, 3, 1); 💻 阶段二：后端 API 开发（2-3 天） 第 1 步：创建后端项目 打开 cmd，进入 server 文件夹： 1 cd D:/life-service/server 初始化项目： 1 npm init -y 安装依赖包： 1 npm install express mysql2 cors nodemon 第 2 步：创建项目文件结构 在 server 文件夹中创建以下文件结构：\n1 2 3 4 5 6 7 8 9 10 11 12 server/ ├── app.js （主入口文件） ├── db/ │ └── index.js （数据库连接） ├── routes/ │ ├── merchant.js （商家接口） │ ├── service.js （服务接口） │ └── order.js （订单接口） └── controllers/ ├── merchantCtrl.js ├── serviceCtrl.js └── orderCtrl.js 第 3 步：编写后端代码 3.1 数据库连接配置 (db/index.js) 1 2 3 4 5 6 7 8 9 10 11 const mysql = require(\u0026#34;mysql2/promise\u0026#34;); const pool = mysql.createPool({ host: \u0026#34;localhost\u0026#34;, user: \u0026#34;root\u0026#34;, password: \u0026#34;123456\u0026#34;, database: \u0026#34;life_server\u0026#34;, port: 3306, }); console.log(\u0026#34;数据库连接成功！\u0026#34;); module.exports = pool; 建议写一个 test.js 文件，测试数据库连接是否成功 1 2 3 4 5 6 7 8 9 10 11 12 13 14 // 引入我们创建的连接池 const pool = require(\u0026#34;./index.js\u0026#34;); // 执行一条简单的 SQL：查询 MySQL 数据库的版本（不需要创建表，通用测试） pool.query(\u0026#34;SELECT VERSION() AS version\u0026#34;, (err, results) =\u0026gt; { // 回调函数：SQL 执行完成后会触发这个函数 if (err) { console.error(\u0026#34;数据库操作失败：\u0026#34;, err.message); return; } console.log(\u0026#34;数据库连接成功！MySQL 版本是：\u0026#34;, results[0].version); }); // 测试完成后，关闭连接池ps(我一般不建议关,除非你有需求） // pool.end(); 3.2 主入口文件 (app.js) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 const express = require(\u0026#34;express\u0026#34;); const cors = require(\u0026#34;cors\u0026#34;); const app = express(); //中间件 app.use(express.json()); app.use(cors()); //路由（比作一个餐厅的话，像是服务员） const merchantRouder = require(\u0026#34;./routes/merchant\u0026#34;); const customerRouder = require(\u0026#34;./routes/service\u0026#34;); const orderRouder = require(\u0026#34;./routes/order\u0026#34;); //使用路由 app.use(\u0026#34;/api/merchant\u0026#34;, merchantRouder); app.use(\u0026#34;/api/service\u0026#34;, customerRouder); app.use(\u0026#34;/api/order\u0026#34;, orderRouder); //启动 app.listen(8080, () =\u0026gt; { console.log(\u0026#34;服务器启动成功！\u0026#34;); console.log(\u0026#34;http://localhost:8080\u0026#34;); }); 3.3 商家控制器 (controllers/merchantCtrl.js) 控制器是实际干活的（像是餐厅的主厨） 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 const pool = require(\u0026#34;../db\u0026#34;); //获取商家列表 exports.getMerchantList = async (req, res) =\u0026gt; { try { //执行 const [result] = await pool.execute(`SELECT * FROM merchants`); res.json({ code: 200, message: \u0026#34;获取成功\u0026#34;, data: result, }); //报错 } catch (err) { res.json({ code: 500, message: \u0026#34;获取失败\u0026#34;, error: err.message, }); } }; //新增 exports.addMerchant = async (req, res) =\u0026gt; { //获取数据 const { name, address, phone } = req.body; try { const [result] = await pool.execute( `INSERT INTO merchants (name,address,phone) VALUES(?,?,?)`, [name, address, phone] ); res.json({ code: 200, message: \u0026#34;添加成功\u0026#34;, data: { id: result.insertId }, }); //报错 } catch (err) { res.json({ code: 500, message: \u0026#34;添加失败\u0026#34;, data: err.message, }); console.log(err); } }; // 审核商家（更新状态） exports.approveMerchant = async (req, res) =\u0026gt; { const { id } = req.params; try { const [result] = await pool.execute( \u0026#34;UPDATE merchants SET status = 1 WHERE id = ?\u0026#34;, [id] ); if (result.affectedRows === 1) { res.json({ code: 200, msg: \u0026#34;商家审核通过！\u0026#34;, }); } else { res.json({ code: 404, msg: \u0026#34;商家不存在\u0026#34;, }); } } catch (err) { res.json({ code: 500, msg: \u0026#34;服务器出错\u0026#34;, error: err.message, }); } }; 3.4 商家路由 (routes/merchant.js) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 const express = require(\u0026#34;express\u0026#34;); const router = express.Router(); //引入控制器 const merchantCtrl = require(\u0026#34;../controllers/merchantCtrl\u0026#34;); //发送到/add，用什么文件的什么方法处理 router.post(\u0026#34;/add\u0026#34;, merchantCtrl.addMerchant); router.get(\u0026#34;/list\u0026#34;, merchantCtrl.getMerchantList); // 审核商家 router.put(\u0026#34;/approve/:id\u0026#34;, merchantCtrl.approveMerchant); //导出让add.js使用 module.exports = router; 3.5 服务控制器 (controllers/serviceCtrl.js) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 const pool = require(\u0026#34;../db\u0026#34;); // 关联 merchants 表的本质是通过数据库的关联查询能力， // 一次性整合 “服务” 和 “商家” 的关联数据， // 既满足了前端展示 “服务所属商家” 的业务需求 // 即使右表（merchants）中没有匹配的记录 // （比如商家被删除，但服务记录未清理），左表（services）的记录依然会被返回（此时商家名称为 NULL） exports.getServices = async (req, res) =\u0026gt; { const { category } = req.query; let sql = ` SELECT s.*,m.name AS merchant_name FROM services AS s LEFT JOIN merchants AS m ON s.merchant_id = m.id where 1=1 `; let params = []; // 根据前端传递的分类参数（category） // 动态为 SQL 查询添加 “服务分类” 筛选条件，实现 “按分类筛选服务列表” 的功能，同时兼顾灵活性和安全性。 if (category \u0026amp;\u0026amp; category !== \u0026#34;all\u0026#34;) { sql += ` AND s.category=?`; params.push(category); } try { const [row] = await pool.execute(sql, params); res.json({ code: 200, message: \u0026#34;获取成功\u0026#34;, data: row, }); } catch (err) { res.json({ code: 500, message: \u0026#34;获取失败\u0026#34;, error: err.message, }); } }; //新增 exports.addService = async (req, res) =\u0026gt; { const { merchant_id, name, price, category, image_url, stock } = req.body; try { const [result] = await pool.execute( `INSERT INTO services (name,price,category, image_url,merchant_id,stock) VALUES(?,?,?,?,?,?)`, [name, price, category, image_url, merchant_id, stock] ); res.json({ code: 200, message: \u0026#34;新增服务成功\u0026#34;, data: { id: result.insertId }, }); } catch (err) { res.json({ code: 500, message: \u0026#34;新增服务失败\u0026#34;, data: err.message, }); } }; // 服务上架（更新状态为“上架”） exports.publishService = async (req, res) =\u0026gt; { const { id } = req.params; try { const [result] = await pool.execute( \u0026#34;UPDATE services SET status = 1 WHERE id = ?\u0026#34;, [id] ); if (result.affectedRows === 1) { res.json({ code: 200, msg: \u0026#34;服务上架成功！\u0026#34; }); } else { res.json({ code: 404, msg: \u0026#34;服务不存在\u0026#34; }); } } catch (err) { res.json({ code: 500, msg: \u0026#34;服务器出错\u0026#34;, error: err.message }); } }; // 服务下架（更新状态为“下架”） exports.unpublishService = async (req, res) =\u0026gt; { const { id } = req.params; try { const [result] = await pool.execute( \u0026#34;UPDATE services SET status = 0 WHERE id = ?\u0026#34;, [id] ); if (result.affectedRows === 1) { res.json({ code: 200, msg: \u0026#34;服务下架成功！\u0026#34; }); } else { res.json({ code: 404, msg: \u0026#34;服务不存在\u0026#34; }); } } catch (err) { res.json({ code: 500, msg: \u0026#34;服务器出错\u0026#34;, error: err.message }); } }; 3.6 服务路由 (routes/service.js) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 const express = require(\u0026#34;express\u0026#34;); const router = express.Router(); const serviceCtrl = require(\u0026#34;../controllers/serviceCtrl\u0026#34;); // 获取服务列表 router.get(\u0026#34;/list\u0026#34;, serviceCtrl.getServices); // 新增服务 router.post(\u0026#34;/add\u0026#34;, serviceCtrl.addService); // 服务上架 router.put(\u0026#34;/publish/:id\u0026#34;, serviceCtrl.publishService); router.put(\u0026#34;/unpublish/:id\u0026#34;, serviceCtrl.unpublishService); module.exports = router; 3.7 订单控制器 (controllers/orderCtrl.js) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 const pool = require(\u0026#34;../db\u0026#34;); //创建定单 exports.createOrder = async (req, res) =\u0026gt; { const { service_id, user_name, user_phone } = req.body; try { const [result] = await pool.execute( `INSERT INTO orders (service_id,user_name,user_phone) VALUES(?,?,?)`, [service_id, user_name, user_phone] ); res.json({ code: 200, message: \u0026#34;创建定单成功\u0026#34;, data: { id: result.insertId }, }); } catch (err) { res.json({ code: 500, message: \u0026#34;创建定单失败\u0026#34;, error: err.message, }); } }; // WHERE 1=1 // 这是一个 “技巧性写法”，方便后续动态添加条件。 // 比如后面有 if (status !== undefined) 时， // 会拼接 AND o.status = ?。如果没有 1=1，初始的 WHERE 子句是空的 // 第一次添加条件时需要写 WHERE o.status = ?，第二次添加才写 AND ...，代码里就要判断 “是不是第一个条件”，很麻烦。 // 有了 1=1 后，不管后面加多少条件，直接用 AND ... 拼接就行 // （比如 WHERE 1=1 AND o.status=? AND o.user_id=?），简化了动态条件的拼接逻辑。 //stayus 0:待处理 1:处理中 2:完成 //获取定单列表 exports.getOrders = async (req, res) =\u0026gt; { const { status } = req.query; try { let sql = `SELECT o.*, s.name AS server_name, m.name AS merchant_name FROM orders AS o LEFT JOIN services AS s ON o.service_id = s.id LEFT JOIN merchants AS m ON s.merchant_id = m.id WHERE 1=1`; let params = []; if (status !== undefined) { sql += ` AND o.status=?`; params.push(status); } //加一个空格 sql += ` ORDER BY o.create_time DESC`; const [row] = await pool.execute(sql, params); res.json({ code: 200, message: \u0026#34;获取成功\u0026#34;, data: row, }); } catch (err) { res.json({ code: 500, message: \u0026#34;获取失败\u0026#34;, error: err.message, }); } }; 3.8 订单路由 (routes/order.js) 1 2 3 4 5 6 7 8 9 10 11 const express = require(\u0026#34;express\u0026#34;); const router = express.Router(); const orderCtrl = require(\u0026#34;../controllers/orderCtrl\u0026#34;); // 创建订单 router.post(\u0026#34;/create\u0026#34;, orderCtrl.createOrder); // 获取订单列表 router.get(\u0026#34;/list\u0026#34;, orderCtrl.getOrders); module.exports = router; 第 4 步：配置 package.json 脚本 修改 server/package.json 中的 scripts 部分：\n1 2 3 4 5 6 { \u0026#34;scripts\u0026#34;: { \u0026#34;dev\u0026#34;: \u0026#34;nodemon app.js\u0026#34;, \u0026#34;start\u0026#34;: \u0026#34;node app.js\u0026#34; } } 第 5 步：启动后端服务 1 2 cd D:/life-service/server npm run dev 看到 ✅ 后端服务启动成功！ 表示后端正常运行。\n第 6 步：测试后端 API 使用 Postman 或浏览器测试接口：\nGET http://localhost:8080/api/merchant/list - 获取商家列表 POST http://localhost:8080/api/merchant/add - 新增商家 🌐 阶段三：Web 管理后台开发（3-4 天） 第 1 步：创建 Vue 项目 打开新的 cmd 窗口： 1 2 cd D:/life-service vue create web-admin 选择配置：\nVue 3 Babel Router 其他按回车用默认配置（仔细看，别选错了） 进入项目并安装依赖：\n1 2 cd web-admin npm install axios 第 2 步：项目结构配置 在 src 文件夹中创建以下结构：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 src/ ├── api/ │ ├── merchant.js │ ├── service.js │ └── order.js ├── components/ ├── views/ │ ├── Merchant/ │ │ └── index.vue │ ├── Service/ │ │ └── index.vue │ └── Order/ │ └── index.vue └── router/ └── index.js 第 3 步：配置路由 修改 src/router/index.js：\n这里路由说的详细一点，方便理解这个整体架构 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 // 1. 导入创建路由的工具 import { createRouter, createWebHistory } from \u0026#34;vue-router\u0026#34;; // createRouter：用来创建路由实例（相当于“接待员”本身） // createWebHistory：路由模式（用无#号的URL，比如 http://localhost:8080/service，更美观） // 2. 导入需要跳转的页面组件（“房间”本身） import Merchant from \u0026#34;../views/Merchant/index.vue\u0026#34;; import Service from \u0026#34;../views/Service/index.vue\u0026#34;; import Order from \u0026#34;../views/Order/index.vue\u0026#34;; // 3. 定义“地址→页面”的对应规则（“房间号→房间”的对照表） const routes = [ { path: \u0026#34;/\u0026#34;, redirect: \u0026#34;/merchant\u0026#34;, // 核心：访问 \u0026#34;/\u0026#34; 时自动跳转到 \u0026#34;/merchant\u0026#34; }, { path: \u0026#34;/merchant\u0026#34;, // 地址：网站根路径（http://localhost:8080/） component: Merchant, // 对应页面：商家管理页 name: \u0026#34;商家管理\u0026#34;, // 给这个路由起个名字（方便后续引用，可选） }, { path: \u0026#34;/service\u0026#34;, // 地址：/service（http://localhost:8080/service） name: \u0026#34;服务管理\u0026#34;, component: Service, // 对应页面：服务管理页 }, { path: \u0026#34;/order\u0026#34;, // 地址：/order（http://localhost:8080/order） name: \u0026#34;订单管理\u0026#34;, component: Order, // 对应页面：订单管理页 }, ]; // 4. 创建路由实例（初始化“接待员”，告诉他规则和工作模式） const router = createRouter({ history: createWebHistory(), // 用无#号的URL模式 routes, // 刚才定义的“地址→页面”规则 }); // 5. 导出路由实例，让整个项目能用（把“接待员”安排到酒店工作） export default router; 第 4 步：封装 API 请求 创建 src/api/merchant.js：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 import axios from \u0026#34;axios\u0026#34;; axios.defaults.baseURL = \u0026#34;http://localhost:8080\u0026#34;; export const merchantAPI = { addMerchant(merchant) { return axios.post(\u0026#34;/api/merchant/add\u0026#34;, merchant); }, getMerchantList() { return axios.get(\u0026#34;/api/merchant/list\u0026#34;); }, // 审核商家 approveMerchant(id) { return axios.put(`/api/merchant/approve/${id}`); }, }; export default merchantAPI; 创建 src/api/service.js：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 import axios from \u0026#34;axios\u0026#34;; export const serviceAPI = { getServices: (category = \u0026#34;\u0026#34;) =\u0026gt; { const params = { ...(category ? { category } : {}), t: Date.now(), }; return axios.get(\u0026#34;/api/service/list\u0026#34;, { params }); }, addService: (data) =\u0026gt; { return axios.post(\u0026#34;/api/service/add\u0026#34;, data); }, publishService: (id) =\u0026gt; { axios.put(`/api/service/publish/${id}`); }, unpublishService: (id) =\u0026gt; { axios.put(`/api/service/unpublish/${id}`); }, }; export default serviceAPI; 创建 src/api/order.js：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 import axios from \u0026#34;axios\u0026#34;; export const orderAPI = { // 获取订单列表 getOrders: (status) =\u0026gt; { const params = status !== undefined ? { status } : {}; return axios.get(\u0026#34;/order/list\u0026#34;, { params }); }, // 创建订单 createOrder: (data) =\u0026gt; { return axios.post(\u0026#34;/order/add\u0026#34;, data); }, }; export default orderAPI; 第 5 步：开发商家管理页面 创建 src/views/Merchant/index.vue：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299 300 301 302 303 304 305 306 307 308 309 310 311 312 313 314 315 316 317 318 319 320 321 322 323 324 325 326 327 328 329 330 331 332 333 334 335 336 337 338 339 340 341 342 343 344 345 346 347 348 349 350 351 352 353 354 355 356 357 358 359 360 361 362 363 364 365 366 367 \u0026lt;template\u0026gt; \u0026lt;div class=\u0026#34;merchant-page\u0026#34;\u0026gt; \u0026lt;h2\u0026gt;🏪 商家管理\u0026lt;/h2\u0026gt; \u0026lt;!-- 新增商家表单 --\u0026gt; \u0026lt;div class=\u0026#34;add-form\u0026#34;\u0026gt; \u0026lt;h3\u0026gt;➕ 新增商家\u0026lt;/h3\u0026gt; \u0026lt;div class=\u0026#34;form-group\u0026#34;\u0026gt; \u0026lt;input v-model=\u0026#34;newMerchant.name\u0026#34; placeholder=\u0026#34;商家名称\u0026#34; class=\u0026#34;input\u0026#34; :disabled=\u0026#34;isSubmitting\u0026#34; /\u0026gt; \u0026lt;input v-model=\u0026#34;newMerchant.address\u0026#34; placeholder=\u0026#34;商家地址\u0026#34; class=\u0026#34;input\u0026#34; :disabled=\u0026#34;isSubmitting\u0026#34; /\u0026gt; \u0026lt;input v-model=\u0026#34;newMerchant.phone\u0026#34; placeholder=\u0026#34;联系电话\u0026#34; class=\u0026#34;input\u0026#34; :disabled=\u0026#34;isSubmitting\u0026#34; /\u0026gt; \u0026lt;button @click=\u0026#34;addMerchant\u0026#34; class=\u0026#34;btn btn-primary\u0026#34; :disabled=\u0026#34;isSubmitting\u0026#34; \u0026gt; {{ isSubmitting ? \u0026#34;提交中...\u0026#34; : \u0026#34;添加商家\u0026#34; }} \u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;!-- 商家列表 --\u0026gt; \u0026lt;div class=\u0026#34;merchant-list\u0026#34;\u0026gt; \u0026lt;h3\u0026gt;📋 商家列表\u0026lt;/h3\u0026gt; \u0026lt;!-- 加载状态 --\u0026gt; \u0026lt;div class=\u0026#34;loading\u0026#34; v-if=\u0026#34;isLoading\u0026#34;\u0026gt; \u0026lt;span\u0026gt;加载中...\u0026lt;/span\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;table class=\u0026#34;table\u0026#34; v-else\u0026gt; \u0026lt;thead\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;th\u0026gt;ID\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;名称\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;地址\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;电话\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;状态\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;创建时间\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;操作\u0026lt;/th\u0026gt; \u0026lt;!-- 新增操作列，更清晰 --\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;/thead\u0026gt; \u0026lt;tbody\u0026gt; \u0026lt;!-- 空状态处理 --\u0026gt; \u0026lt;tr v-if=\u0026#34;merchants.length === 0\u0026#34;\u0026gt; \u0026lt;td colspan=\u0026#34;7\u0026#34; class=\u0026#34;empty-cell\u0026#34;\u0026gt;暂无商家数据\u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;tr v-for=\u0026#34;merchant in merchants\u0026#34; :key=\u0026#34;merchant.id\u0026#34;\u0026gt; \u0026lt;td\u0026gt;{{ merchant.id }}\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;{{ merchant.name }}\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;{{ merchant.address }}\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;{{ merchant.phone }}\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt; \u0026lt;span :class=\u0026#34; merchant.status === 0 ? \u0026#39;status-pending\u0026#39; : \u0026#39;status-approved\u0026#39; \u0026#34; \u0026gt; {{ merchant.status === 0 ? \u0026#34;审核中\u0026#34; : \u0026#34;已通过\u0026#34; }} \u0026lt;/span\u0026gt; \u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;{{ formatTime(merchant.create_time) }}\u0026lt;/td\u0026gt; \u0026lt;td class=\u0026#34;operation-cell\u0026#34;\u0026gt; \u0026lt;!-- 审核按钮：只在\u0026#34;审核中\u0026#34;且非加载状态显示 --\u0026gt; \u0026lt;button class=\u0026#34;approve-btn\u0026#34; @click=\u0026#34;handleApprove(merchant.id)\u0026#34; v-if=\u0026#34;merchant.status === 0 \u0026amp;\u0026amp; !isLoading\u0026#34; :disabled=\u0026#34;isApproving[merchant.id]\u0026#34; \u0026gt; {{ isApproving[merchant.id] ? \u0026#34;审核中...\u0026#34; : \u0026#34;审核通过\u0026#34; }} \u0026lt;/button\u0026gt; \u0026lt;!-- 已通过状态提示 --\u0026gt; \u0026lt;span class=\u0026#34;approved-text\u0026#34; v-else-if=\u0026#34;merchant.status === 1\u0026#34;\u0026gt; 已审核 \u0026lt;/span\u0026gt; \u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;/tbody\u0026gt; \u0026lt;/table\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; import { ref, onMounted } from \u0026#34;vue\u0026#34;; import merchantAPI from \u0026#34;../../api/merchant\u0026#34;; export default { name: \u0026#34;MerchantView\u0026#34;, setup() { // 商家列表数据 const merchants = ref([]); // 新增商家表单数据 const newMerchant = ref({ name: \u0026#34;\u0026#34;, address: \u0026#34;\u0026#34;, phone: \u0026#34;\u0026#34;, }); // 加载状态（列表加载中） const isLoading = ref(false); // 提交状态（新增商家时） const isSubmitting = ref(false); // 审核状态（针对每个商家的单独加载状态，避免重复点击） const isApproving = ref({}); // 结构：{ 1: true, 2: false, ... } // 获取商家列表（封装为独立方法，便于复用） const getMerchants = async () =\u0026gt; { try { isLoading.value = true; // 显示加载状态 const response = await merchantAPI.getMerchantList(); merchants.value = response.data.data || []; // 兼容空数据 } catch (error) { alert(\u0026#34;获取商家列表失败：\u0026#34; + (error.message || \u0026#34;网络错误\u0026#34;)); console.error(\u0026#34;商家列表加载失败：\u0026#34;, error); } finally { isLoading.value = false; // 无论成功失败，关闭加载状态 } }; // 新增商家 const addMerchant = async () =\u0026gt; { // 表单验证 if (!newMerchant.value.name.trim()) { alert(\u0026#34;请输入商家名称！\u0026#34;); return; } if (!newMerchant.value.address.trim()) { alert(\u0026#34;请输入商家地址！\u0026#34;); return; } if (!newMerchant.value.phone.trim()) { alert(\u0026#34;请输入联系电话！\u0026#34;); return; } // 简单手机号格式验证（11位数字） if (!/^\\d{11}$/.test(newMerchant.value.phone)) { alert(\u0026#34;请输入有效的11位手机号！\u0026#34;); return; } try { isSubmitting.value = true; // 防止重复提交 await merchantAPI.addMerchant(newMerchant.value); alert(\u0026#34;商家添加成功！\u0026#34;); // 清空表单 newMerchant.value = { name: \u0026#34;\u0026#34;, address: \u0026#34;\u0026#34;, phone: \u0026#34;\u0026#34; }; // 刷新列表 getMerchants(); } catch (error) { alert(\u0026#34;添加商家失败：\u0026#34; + (error.message || \u0026#34;服务器错误\u0026#34;)); console.error(\u0026#34;新增商家失败：\u0026#34;, error); } finally { isSubmitting.value = false; // 恢复提交状态 } }; // 审核商家（核心补充） const handleApprove = async (id) =\u0026gt; { // 确认操作（避免误点） if (!confirm(\u0026#34;确定要通过该商家的审核吗？\u0026#34;)) { return; } try { // 标记当前商家正在审核中 isApproving.value[id] = true; await merchantAPI.approveMerchant(id); alert(\u0026#34;商家审核通过！\u0026#34;); // 刷新列表 getMerchants(); } catch (error) { alert(\u0026#34;审核失败：\u0026#34; + (error.message || \u0026#34;服务器错误\u0026#34;)); console.error(`审核商家${id}失败：`, error); } finally { // 清除审核状态 isApproving.value[id] = false; } }; // 格式化时间（兼容空值） const formatTime = (timeString) =\u0026gt; { if (!timeString) return \u0026#34;-\u0026#34;; return new Date(timeString).toLocaleString(); }; // 页面加载时初始化数据 onMounted(() =\u0026gt; { getMerchants(); }); return { merchants, newMerchant, isLoading, isSubmitting, isApproving, addMerchant, handleApprove, // 导出审核方法（关键补充） formatTime, }; }, }; \u0026lt;/script\u0026gt; \u0026lt;style scoped\u0026gt; .merchant-page { padding: 20px; max-width: 1200px; margin: 0 auto; } .add-form { margin: 30px 0; padding: 20px; border: 1px solid #e1e1e1; border-radius: 8px; background: #f9f9f9; } .form-group { display: flex; gap: 10px; align-items: end; flex-wrap: wrap; } .input { padding: 8px 12px; border: 1px solid #ccc; border-radius: 4px; flex: 1; min-width: 200px; font-size: 14px; } .input:disabled { background: #f0f0f0; cursor: not-allowed; } .btn { padding: 8px 16px; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; transition: background 0.3s; } .btn:disabled { background: #9e9e9e; cursor: not-allowed; } .btn-primary { background: #4caf50; color: white; } .btn-primary:hover:not(:disabled) { background: #45a049; } .merchant-list { margin-top: 30px; } .table { width: 100%; border-collapse: collapse; margin-top: 10px; background: white; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); } .table th, .table td { border: 1px solid #ddd; padding: 12px; text-align: left; } .table th { background: #f5f5f5; font-weight: bold; white-space: nowrap; /* 表头不换行 */ } /* 空状态单元格 */ .empty-cell { text-align: center; padding: 40px 0; color: #999; } /* 状态样式 */ .status-pending { color: #ff9800; font-weight: bold; } .status-approved { color: #4caf50; font-weight: bold; } /* 操作列样式 */ .operation-cell { white-space: nowrap; /* 操作按钮不换行 */ } .approve-btn { background: #2196f3; color: white; border: none; border-radius: 4px; padding: 4px 10px; cursor: pointer; font-size: 13px; transition: background 0.3s; } .approve-btn:hover:not(:disabled) { background: #0b7dda; } .approve-btn:disabled { background: #bbdefb; cursor: not-allowed; } .approved-text { color: #666; font-size: 13px; } /* 加载状态 */ .loading { text-align: center; padding: 40px 0; color: #666; font-size: 14px; } \u0026lt;/style\u0026gt; 第 6 步：修改 App.vue 更新 src/App.vue：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 \u0026lt;template\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;nav class=\u0026#34;navbar\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;nav-container\u0026#34;\u0026gt; \u0026lt;h1 class=\u0026#34;nav-title\u0026#34;\u0026gt;全域生活服务平台\u0026lt;/h1\u0026gt; \u0026lt;div class=\u0026#34;nav-links\u0026#34;\u0026gt; \u0026lt;router-link to=\u0026#34;/merchant\u0026#34; class=\u0026#34;nav-link\u0026#34;\u0026gt;商家管理\u0026lt;/router-link\u0026gt; \u0026lt;router-link to=\u0026#34;/service\u0026#34; class=\u0026#34;nav-link\u0026#34;\u0026gt;服务管理\u0026lt;/router-link\u0026gt; \u0026lt;router-link to=\u0026#34;/order\u0026#34; class=\u0026#34;nav-link\u0026#34;\u0026gt;订单管理\u0026lt;/router-link\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/nav\u0026gt; \u0026lt;main class=\u0026#34;main-content\u0026#34;\u0026gt; \u0026lt;router-view /\u0026gt; \u0026lt;/main\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; export default { name: \u0026#34;App\u0026#34;, }; \u0026lt;/script\u0026gt; \u0026lt;style\u0026gt; * { margin: 0; padding: 0; box-sizing: border-box; } body { font-family: \u0026#34;Segoe UI\u0026#34;, Tahoma, Geneva, Verdana, sans-serif; background: #f5f5f5; } .navbar { background: #2c3e50; color: white; padding: 0; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); } .nav-container { max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; padding: 0 20px; } .nav-title { font-size: 24px; font-weight: bold; } .nav-links { display: flex; gap: 20px; } .nav-link { color: white; text-decoration: none; padding: 15px 20px; border-radius: 4px; transition: background 0.3s; } .nav-link:hover, .nav-link.router-link-active { background: #34495e; } .main-content { min-height: calc(100vh - 60px); padding: 20px; } \u0026lt;/style\u0026gt; 第 7 步：开发服务管理页面 创建 src/views/Service/index.vue：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299 300 301 302 303 304 305 306 307 308 309 310 311 312 313 314 \u0026lt;template\u0026gt; \u0026lt;div class=\u0026#34;service-page\u0026#34;\u0026gt; \u0026lt;h2\u0026gt;🛎️ 服务管理\u0026lt;/h2\u0026gt; \u0026lt;!-- 新增服务表单 --\u0026gt; \u0026lt;div class=\u0026#34;add-form\u0026#34;\u0026gt; \u0026lt;h3\u0026gt;➕ 新增服务\u0026lt;/h3\u0026gt; \u0026lt;div class=\u0026#34;form-grid\u0026#34;\u0026gt; \u0026lt;input v-model=\u0026#34;newService.name\u0026#34; placeholder=\u0026#34;服务名称\u0026#34; class=\u0026#34;input\u0026#34; /\u0026gt; \u0026lt;select v-model=\u0026#34;newService.merchant_id\u0026#34; class=\u0026#34;input\u0026#34;\u0026gt; \u0026lt;option value=\u0026#34;\u0026#34;\u0026gt;选择商家\u0026lt;/option\u0026gt; \u0026lt;option v-for=\u0026#34;merchant in merchants\u0026#34; :key=\u0026#34;merchant.id\u0026#34; :value=\u0026#34;merchant.id\u0026#34; \u0026gt; {{ merchant.name }} \u0026lt;/option\u0026gt; \u0026lt;/select\u0026gt; \u0026lt;input v-model=\u0026#34;newService.price\u0026#34; type=\u0026#34;number\u0026#34; placeholder=\u0026#34;价格\u0026#34; class=\u0026#34;input\u0026#34; /\u0026gt; \u0026lt;select v-model=\u0026#34;newService.category\u0026#34; class=\u0026#34;input\u0026#34;\u0026gt; \u0026lt;option value=\u0026#34;\u0026#34;\u0026gt;选择分类\u0026lt;/option\u0026gt; \u0026lt;option value=\u0026#34;家政\u0026#34;\u0026gt;家政\u0026lt;/option\u0026gt; \u0026lt;option value=\u0026#34;维修\u0026#34;\u0026gt;维修\u0026lt;/option\u0026gt; \u0026lt;option value=\u0026#34;保洁\u0026#34;\u0026gt;保洁\u0026lt;/option\u0026gt; \u0026lt;/select\u0026gt; \u0026lt;input v-model=\u0026#34;newService.stock\u0026#34; type=\u0026#34;number\u0026#34; placeholder=\u0026#34;库存\u0026#34; class=\u0026#34;input\u0026#34; /\u0026gt; \u0026lt;input v-model=\u0026#34;newService.image_url\u0026#34; placeholder=\u0026#34;图片URL\u0026#34; class=\u0026#34;input\u0026#34; /\u0026gt; \u0026lt;button @click=\u0026#34;addService\u0026#34; class=\u0026#34;btn btn-primary\u0026#34;\u0026gt;添加服务\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;!-- 服务列表 --\u0026gt; \u0026lt;div class=\u0026#34;service-list\u0026#34;\u0026gt; \u0026lt;h3\u0026gt;📋 服务列表\u0026lt;/h3\u0026gt; \u0026lt;table class=\u0026#34;table\u0026#34;\u0026gt; \u0026lt;thead\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;th\u0026gt;ID\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;服务名称\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;商家\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;价格\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;分类\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;库存\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;状态\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;操作\u0026lt;/th\u0026gt; \u0026lt;!-- 新增操作列 --\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;/thead\u0026gt; \u0026lt;tbody\u0026gt; \u0026lt;tr v-for=\u0026#34;service in services\u0026#34; :key=\u0026#34;service.id\u0026#34;\u0026gt; \u0026lt;td\u0026gt;{{ service.id }}\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;{{ service.name }}\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;{{ service.merchant_name }}\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;¥{{ service.price }}\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;{{ service.category }}\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;{{ service.stock }}\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt; \u0026lt;span :class=\u0026#34;service.status === 0 ? \u0026#39;status-off\u0026#39; : \u0026#39;status-on\u0026#39;\u0026#34;\u0026gt; {{ service.status === 0 ? \u0026#34;下架\u0026#34; : \u0026#34;上架\u0026#34; }} \u0026lt;/span\u0026gt; \u0026lt;/td\u0026gt; \u0026lt;td\u0026gt; \u0026lt;!-- 上架按钮（下架状态时显示） --\u0026gt; \u0026lt;button v-if=\u0026#34;service.status === 0\u0026#34; class=\u0026#34;btn btn-publish\u0026#34; @click=\u0026#34;handlePublish(service.id)\u0026#34; \u0026gt; 上架 \u0026lt;/button\u0026gt; \u0026lt;!-- 下架按钮（上架状态时显示） --\u0026gt; \u0026lt;button v-else class=\u0026#34;btn btn-unpublish\u0026#34; @click=\u0026#34;handleUnpublish(service.id)\u0026#34; \u0026gt; 下架 \u0026lt;/button\u0026gt; \u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;/tbody\u0026gt; \u0026lt;/table\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; import { ref, onMounted } from \u0026#34;vue\u0026#34;; import serviceAPI from \u0026#34;../../api/service\u0026#34;; import merchantAPI from \u0026#34;../../api/merchant\u0026#34;; export default { name: \u0026#34;ServiceView\u0026#34;, setup() { const services = ref([]); const merchants = ref([]); const newService = ref({ name: \u0026#34;\u0026#34;, merchant_id: \u0026#34;\u0026#34;, price: \u0026#34;\u0026#34;, category: \u0026#34;\u0026#34;, stock: \u0026#34;\u0026#34;, image_url: \u0026#34;\u0026#34;, }); // 获取服务列表 const getServices = async () =\u0026gt; { try { const response = await serviceAPI.getServices(); services.value = response.data.data; } catch (error) { alert(\u0026#34;获取服务列表失败！\u0026#34;); console.error(error); } }; // 获取商家列表 const getMerchants = async () =\u0026gt; { try { const response = await merchantAPI.getMerchantList(); merchants.value = response.data.data; } catch (error) { alert(\u0026#34;获取商家列表失败！\u0026#34;); console.error(error); } }; // 新增服务 const addService = async () =\u0026gt; { if ( !newService.value.name || !newService.value.merchant_id || !newService.value.price ) { alert(\u0026#34;请填写完整信息！\u0026#34;); return; } try { await serviceAPI.addService(newService.value); alert(\u0026#34;服务添加成功！\u0026#34;); newService.value = { name: \u0026#34;\u0026#34;, merchant_id: \u0026#34;\u0026#34;, price: \u0026#34;\u0026#34;, category: \u0026#34;\u0026#34;, stock: \u0026#34;\u0026#34;, image_url: \u0026#34;\u0026#34;, }; getServices(); } catch (error) { alert(\u0026#34;添加服务失败！\u0026#34;); console.error(error); } }; // 上架服务（状态更新为1） const handlePublish = async (id) =\u0026gt; { try { await serviceAPI.publishService(id); alert(\u0026#34;服务上架成功！\u0026#34;); getServices(); // 刷新列表 } catch (error) { alert(\u0026#34;上架失败！\u0026#34;); console.error(error); } }; // 下架服务（状态更新为0） const handleUnpublish = async (id) =\u0026gt; { try { await serviceAPI.unpublishService(id); alert(\u0026#34;服务下架成功！\u0026#34;); getServices(); // 刷新列表 } catch (error) { alert(\u0026#34;下架失败！\u0026#34;); console.error(error); } }; onMounted(() =\u0026gt; { getServices(); getMerchants(); }); return { services, merchants, newService, addService, handlePublish, // 导出上架方法 handleUnpublish, // 导出下架方法 }; }, }; \u0026lt;/script\u0026gt; \u0026lt;style scoped\u0026gt; .service-page { padding: 20px; max-width: 1200px; margin: 0 auto; } .add-form { margin: 30px 0; padding: 20px; border: 1px solid #e1e1e1; border-radius: 8px; background: #f9f9f9; } .form-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; align-items: end; } .input { padding: 8px 12px; border: 1px solid #ccc; border-radius: 4px; width: 100%; } .btn { padding: 8px 16px; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; } .btn-primary { background: #4caf50; color: white; grid-column: 1 / -1; justify-self: start; } .btn-primary:hover { background: #45a049; } /* 上架按钮样式 */ .btn-publish { background: #2196f3; color: white; } .btn-publish:hover { background: #0b7dda; } /* 下架按钮样式 */ .btn-unpublish { background: #ff9800; color: white; } .btn-unpublish:hover { background: #e68900; } .service-list { margin-top: 30px; } .table { width: 100%; border-collapse: collapse; margin-top: 10px; background: white; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); } .table th, .table td { border: 1px solid #ddd; padding: 12px; text-align: left; } .table th { background: #f5f5f5; font-weight: bold; } .status-on { color: #4caf50; font-weight: bold; } .status-off { color: #f44336; font-weight: bold; } \u0026lt;/style\u0026gt; 第 8 步：开发订单管理页面 创建 src/views/Order/index.vue：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 \u0026lt;template\u0026gt; \u0026lt;div class=\u0026#34;order-page\u0026#34;\u0026gt; \u0026lt;h2\u0026gt;📦 订单管理\u0026lt;/h2\u0026gt; \u0026lt;!-- 筛选条件 --\u0026gt; \u0026lt;div class=\u0026#34;filter-section\u0026#34;\u0026gt; \u0026lt;h3\u0026gt;筛选条件\u0026lt;/h3\u0026gt; \u0026lt;div class=\u0026#34;filter-group\u0026#34;\u0026gt; \u0026lt;label\u0026gt; \u0026lt;input type=\u0026#34;radio\u0026#34; v-model=\u0026#34;filterStatus\u0026#34; value=\u0026#34;\u0026#34; /\u0026gt; 全部订单 \u0026lt;/label\u0026gt; \u0026lt;label\u0026gt; \u0026lt;input type=\u0026#34;radio\u0026#34; v-model=\u0026#34;filterStatus\u0026#34; value=\u0026#34;0\u0026#34; /\u0026gt; 待支付 \u0026lt;/label\u0026gt; \u0026lt;label\u0026gt; \u0026lt;input type=\u0026#34;radio\u0026#34; v-model=\u0026#34;filterStatus\u0026#34; value=\u0026#34;1\u0026#34; /\u0026gt; 已完成 \u0026lt;/label\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;!-- 订单列表 --\u0026gt; \u0026lt;div class=\u0026#34;order-list\u0026#34;\u0026gt; \u0026lt;h3\u0026gt;订单列表\u0026lt;/h3\u0026gt; \u0026lt;table class=\u0026#34;table\u0026#34;\u0026gt; \u0026lt;thead\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;th\u0026gt;订单ID\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;服务名称\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;商家\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;用户姓名\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;用户电话\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;价格\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;状态\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;下单时间\u0026lt;/th\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;/thead\u0026gt; \u0026lt;tbody\u0026gt; \u0026lt;tr v-for=\u0026#34;order in orders\u0026#34; :key=\u0026#34;order.id\u0026#34;\u0026gt; \u0026lt;td\u0026gt;{{ order.id }}\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;{{ order.service_name }}\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;{{ order.merchant_name }}\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;{{ order.user_name }}\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;{{ order.user_phone }}\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;¥{{ order.price }}\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt; \u0026lt;span :class=\u0026#34; order.status === 0 ? \u0026#39;status-pending\u0026#39; : \u0026#39;status-completed\u0026#39; \u0026#34; \u0026gt; {{ order.status === 0 ? \u0026#34;待支付\u0026#34; : \u0026#34;已完成\u0026#34; }} \u0026lt;/span\u0026gt; \u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;{{ formatTime(order.create_time) }}\u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;/tbody\u0026gt; \u0026lt;/table\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; import { ref, onMounted, watch } from \u0026#34;vue\u0026#34;; import orderAPI from \u0026#34;../../api/order\u0026#34;; export default { name: \u0026#34;OrderView\u0026#34;, setup() { const orders = ref([]); const filterStatus = ref(\u0026#34;\u0026#34;); // 获取订单列表 const getOrders = async (status = \u0026#34;\u0026#34;) =\u0026gt; { try { const response = await orderAPI.getOrders(status); orders.value = response.data.data; } catch (error) { alert(\u0026#34;获取订单列表失败！\u0026#34;); console.error(error); } }; // 格式化时间 const formatTime = (timeString) =\u0026gt; { return new Date(timeString).toLocaleString(); }; // 监听筛选条件变化 watch(filterStatus, (newStatus) =\u0026gt; { getOrders(newStatus); }); // 页面加载时获取数据 onMounted(() =\u0026gt; { getOrders(); }); return { orders, filterStatus, formatTime, }; }, }; \u0026lt;/script\u0026gt; \u0026lt;style scoped\u0026gt; .order-page { padding: 20px; max-width: 1200px; margin: 0 auto; } .filter-section { margin: 30px 0; padding: 20px; border: 1px solid #e1e1e1; border-radius: 8px; background: #f9f9f9; } .filter-group { display: flex; gap: 20px; margin-top: 10px; } .filter-group label { display: flex; align-items: center; gap: 5px; cursor: pointer; } .order-list { margin-top: 30px; } .table { width: 100%; border-collapse: collapse; margin-top: 10px; background: white; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); } .table th, .table td { border: 1px solid #ddd; padding: 12px; text-align: left; } .table th { background: #f5f5f5; font-weight: bold; } .status-pending { color: #ff9800; font-weight: bold; } .status-completed { color: #4caf50; font-weight: bold; } \u0026lt;/style\u0026gt; 第 9 步：启动 Web 管理后台 注意此时，还有前后端跨域问题（用 cores 或者 nginx 代理解决） PS（我会在后续的文章中解决） 1 2 cd D:/life-service/web-admin npm run serve 访问：http://localhost:8080\n📱 阶段四：微信小程序开发（3-4 天） 第 1 步：创建小程序项目 打开微信开发者工具 点击\u0026quot;新建项目\u0026quot; 填写信息： 项目名称：生活服务平台 目录：选择 D:/life-service/mini-user AppID：点击\u0026quot;测试号\u0026quot; 后端服务：不使用云服务 点击\u0026quot;新建\u0026quot; 第 2 步：项目结构配置 在小程序项目中创建以下结构：\n1 2 3 4 5 6 7 8 9 10 mini-user/ ├── pages/ │ ├── index/（首页） │ ├── serviceList/（服务列表） │ ├── orderCreate/（创建订单） │ └── orderList/（订单列表） ├── utils/ │ └── request.js（请求封装） ├── images/（图片资源） └── app.js（小程序入口） 第 3 步：封装网络请求 创建 utils/request.js：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 const request = (url, method = \u0026#34;GET\u0026#34;, data = {}) =\u0026gt; { return new Promise((resolve, reject) =\u0026gt; { wx.request({ url: \u0026#34;http://localhost:8080/api\u0026#34; + url, method, data, success: (res) =\u0026gt; { if (res.data.code === 200) { resolve(res.data.data); } else { reject(res.data.msg); } }, fail: (err) =\u0026gt; { reject(\u0026#34;网络请求失败：\u0026#34; + err.errMsg); }, }); }); }; module.exports = request; 第 4 步：配置小程序页面 修改 app.json：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 { \u0026#34;pages\u0026#34;: [ \u0026#34;pages/index/index\u0026#34;, \u0026#34;pages/serviceList/serviceList\u0026#34;, \u0026#34;pages/orderCreate/orderCreate\u0026#34;, \u0026#34;pages/orderList/orderList\u0026#34; ], \u0026#34;window\u0026#34;: { \u0026#34;backgroundTextStyle\u0026#34;: \u0026#34;light\u0026#34;, \u0026#34;navigationBarBackgroundColor\u0026#34;: \u0026#34;#2c3e50\u0026#34;, \u0026#34;navigationBarTitleText\u0026#34;: \u0026#34;生活服务平台\u0026#34;, \u0026#34;navigationBarTextStyle\u0026#34;: \u0026#34;white\u0026#34; }, \u0026#34;style\u0026#34;: \u0026#34;v2\u0026#34;, \u0026#34;sitemapLocation\u0026#34;: \u0026#34;sitemap.json\u0026#34; } 第 5 步：开发首页 创建 pages/index/index.js：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 const request = require(\u0026#34;../../utils/request\u0026#34;); Page({ data: { services: [], categories: [ { name: \u0026#34;家政\u0026#34;, icon: \u0026#34;🏠\u0026#34;, type: \u0026#34;家政\u0026#34; }, { name: \u0026#34;维修\u0026#34;, icon: \u0026#34;🔧\u0026#34;, type: \u0026#34;维修\u0026#34; }, { name: \u0026#34;保洁\u0026#34;, icon: \u0026#34;✨\u0026#34;, type: \u0026#34;保洁\u0026#34; }, ], }, onLoad() { this.getServices(); }, // 获取推荐服务 async getServices() { try { const services = await request(\u0026#34;/service/list\u0026#34;); // 只取前4个作为推荐 this.setData({ services: services.slice(0, 4), }); } catch (err) { wx.showToast({ title: \u0026#34;加载失败\u0026#34;, icon: \u0026#34;none\u0026#34;, }); } }, // 跳转到服务列表 toServiceList(e) { const type = e.currentTarget.dataset.type; wx.navigateTo({ url: `/pages/serviceList/serviceList?type=${type}`, }); }, // 跳转到订单列表 toOrderList() { wx.navigateTo({ url: \u0026#34;/pages/orderList/orderList\u0026#34;, }); }, }); 创建 pages/index/index.wxml：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 \u0026lt;view class=\u0026#34;container\u0026#34;\u0026gt; \u0026lt;!-- 头部 --\u0026gt; \u0026lt;view class=\u0026#34;header\u0026#34;\u0026gt; \u0026lt;text class=\u0026#34;title\u0026#34;\u0026gt;生活服务平台\u0026lt;/text\u0026gt; \u0026lt;text class=\u0026#34;subtitle\u0026#34;\u0026gt;便捷生活，一键送达\u0026lt;/text\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;!-- 服务分类 --\u0026gt; \u0026lt;view class=\u0026#34;category-section\u0026#34;\u0026gt; \u0026lt;view class=\u0026#34;section-title\u0026#34;\u0026gt;服务分类\u0026lt;/view\u0026gt; \u0026lt;view class=\u0026#34;category-grid\u0026#34;\u0026gt; \u0026lt;view class=\u0026#34;category-item\u0026#34; wx:for=\u0026#34;{{categories}}\u0026#34; wx:key=\u0026#34;type\u0026#34; bindtap=\u0026#34;toServiceList\u0026#34; data-type=\u0026#34;{{item.type}}\u0026#34; \u0026gt; \u0026lt;text class=\u0026#34;category-icon\u0026#34;\u0026gt;{{item.icon}}\u0026lt;/text\u0026gt; \u0026lt;text class=\u0026#34;category-name\u0026#34;\u0026gt;{{item.name}}\u0026lt;/text\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;!-- 推荐服务 --\u0026gt; \u0026lt;view class=\u0026#34;recommend-section\u0026#34;\u0026gt; \u0026lt;view class=\u0026#34;section-header\u0026#34;\u0026gt; \u0026lt;text class=\u0026#34;section-title\u0026#34;\u0026gt;推荐服务\u0026lt;/text\u0026gt; \u0026lt;text class=\u0026#34;more\u0026#34; bindtap=\u0026#34;toServiceList\u0026#34; data-type=\u0026#34;\u0026#34;\u0026gt;查看更多\u0026lt;/text\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;view class=\u0026#34;service-grid\u0026#34;\u0026gt; \u0026lt;view class=\u0026#34;service-card\u0026#34; wx:for=\u0026#34;{{services}}\u0026#34; wx:key=\u0026#34;id\u0026#34; bindtap=\u0026#34;toOrderCreate\u0026#34; data-service=\u0026#34;{{item}}\u0026#34; \u0026gt; \u0026lt;image class=\u0026#34;service-image\u0026#34; src=\u0026#34;{{item.image_url || \u0026#39;/images/default-service.png\u0026#39;}}\u0026#34;\u0026gt;\u0026lt;/image\u0026gt; \u0026lt;view class=\u0026#34;service-info\u0026#34;\u0026gt; \u0026lt;text class=\u0026#34;service-name\u0026#34;\u0026gt;{{item.name}}\u0026lt;/text\u0026gt; \u0026lt;text class=\u0026#34;service-merchant\u0026#34;\u0026gt;{{item.merchant_name}}\u0026lt;/text\u0026gt; \u0026lt;view class=\u0026#34;service-bottom\u0026#34;\u0026gt; \u0026lt;text class=\u0026#34;service-price\u0026#34;\u0026gt;¥{{item.price}}\u0026lt;/text\u0026gt; \u0026lt;text class=\u0026#34;service-category\u0026#34;\u0026gt;{{item.category}}\u0026lt;/text\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;!-- 底部导航 --\u0026gt; \u0026lt;view class=\u0026#34;bottom-nav\u0026#34;\u0026gt; \u0026lt;view class=\u0026#34;nav-item\u0026#34; bindtap=\u0026#34;toServiceList\u0026#34; data-type=\u0026#34;\u0026#34;\u0026gt; \u0026lt;text class=\u0026#34;nav-icon\u0026#34;\u0026gt;🔍\u0026lt;/text\u0026gt; \u0026lt;text class=\u0026#34;nav-text\u0026#34;\u0026gt;全部服务\u0026lt;/text\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;view class=\u0026#34;nav-item\u0026#34; bindtap=\u0026#34;toOrderList\u0026#34;\u0026gt; \u0026lt;text class=\u0026#34;nav-icon\u0026#34;\u0026gt;📦\u0026lt;/text\u0026gt; \u0026lt;text class=\u0026#34;nav-text\u0026#34;\u0026gt;我的订单\u0026lt;/text\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;/view\u0026gt; 创建 pages/index/index.wxss：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 .container { padding: 20rpx; background: #f5f5f5; min-height: 100vh; } /* 头部样式 */ .header { text-align: center; margin: 40rpx 0 60rpx; } .title { display: block; font-size: 48rpx; font-weight: bold; color: #2c3e50; margin-bottom: 10rpx; } .subtitle { display: block; font-size: 28rpx; color: #7f8c8d; } /* 分类区域 */ .category-section { margin-bottom: 40rpx; } .section-title { font-size: 36rpx; font-weight: bold; color: #2c3e50; margin-bottom: 30rpx; display: block; } .category-grid { display: flex; justify-content: space-around; background: white; padding: 30rpx; border-radius: 20rpx; box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.1); } .category-item { display: flex; flex-direction: column; align-items: center; } .category-icon { font-size: 60rpx; margin-bottom: 15rpx; } .category-name { font-size: 28rpx; color: #2c3e50; } /* 推荐服务 */ .recommend-section { margin-bottom: 100rpx; } .section-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30rpx; } .more { font-size: 28rpx; color: #3498db; } .service-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20rpx; } .service-card { background: white; border-radius: 20rpx; overflow: hidden; box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.1); } .service-image { width: 100%; height: 200rpx; background: #ecf0f1; } .service-info { padding: 20rpx; } .service-name { display: block; font-size: 30rpx; font-weight: bold; color: #2c3e50; margin-bottom: 10rpx; } .service-merchant { display: block; font-size: 24rpx; color: #7f8c8d; margin-bottom: 15rpx; } .service-bottom { display: flex; justify-content: space-between; align-items: center; } .service-price { color: #e74c3c; font-size: 28rpx; font-weight: bold; } .service-category { font-size: 24rpx; color: #3498db; background: #ecf0f1; padding: 5rpx 15rpx; border-radius: 20rpx; } /* 底部导航 */ .bottom-nav { position: fixed; bottom: 0; left: 0; right: 0; background: white; display: flex; padding: 20rpx; box-shadow: 0 -2rpx 20rpx rgba(0, 0, 0, 0.1); } .nav-item { flex: 1; display: flex; flex-direction: column; align-items: center; } .nav-icon { font-size: 40rpx; margin-bottom: 10rpx; } .nav-text { font-size: 24rpx; color: #2c3e50; } 第 6 步：开发服务列表页面 创建 pages/serviceList/serviceList.js：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 const request = require(\u0026#34;../../utils/request\u0026#34;); Page({ data: { services: [], categories: [\u0026#34;全部\u0026#34;, \u0026#34;家政\u0026#34;, \u0026#34;维修\u0026#34;, \u0026#34;保洁\u0026#34;], activeCategory: \u0026#34;全部\u0026#34;, searchKeyword: \u0026#34;\u0026#34;, }, onLoad(options) { if (options.type) { this.setData({ activeCategory: options.type }); } this.getServices(); }, // 获取服务列表 async getServices() { const { activeCategory, searchKeyword } = this.data; try { let category = activeCategory === \u0026#34;全部\u0026#34; ? \u0026#34;\u0026#34; : activeCategory; let services = await request(\u0026#34;/service/list\u0026#34;, \u0026#34;GET\u0026#34;, { category }); // 前端搜索过滤 if (searchKeyword) { services = services.filter( (service) =\u0026gt; service.name.includes(searchKeyword) || service.merchant_name.includes(searchKeyword) ); } this.setData({ services }); } catch (err) { wx.showToast({ title: \u0026#34;加载失败\u0026#34;, icon: \u0026#34;none\u0026#34;, }); } }, // 切换分类 switchCategory(e) { const category = e.currentTarget.dataset.category; this.setData({ activeCategory: category, searchKeyword: \u0026#34;\u0026#34;, }); this.getServices(); }, // 搜索输入 onSearchInput(e) { this.setData({ searchKeyword: e.detail.value }); }, // 执行搜索 onSearch() { this.getServices(); }, // 跳转到下单页面（修改后） toOrderCreate(e) { const service = e.currentTarget.dataset.service; wx.navigateTo({ url: `/pages/orderCreate/orderCreate?service=${encodeURIComponent( JSON.stringify(service) )}`, }); }, }); 创建 pages/serviceList/serviceList.wxml：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 \u0026lt;view class=\u0026#34;container\u0026#34;\u0026gt; \u0026lt;!-- 搜索框 --\u0026gt; \u0026lt;view class=\u0026#34;search-box\u0026#34;\u0026gt; \u0026lt;input class=\u0026#34;search-input\u0026#34; placeholder=\u0026#34;搜索服务或商家...\u0026#34; value=\u0026#34;{{searchKeyword}}\u0026#34; bindinput=\u0026#34;onSearchInput\u0026#34; /\u0026gt; \u0026lt;button class=\u0026#34;search-btn\u0026#34; bindtap=\u0026#34;onSearch\u0026#34;\u0026gt;搜索\u0026lt;/button\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;!-- 分类筛选 --\u0026gt; \u0026lt;scroll-view class=\u0026#34;category-scroll\u0026#34; scroll-x\u0026gt; \u0026lt;view class=\u0026#34;category-list\u0026#34;\u0026gt; \u0026lt;view class=\u0026#34;category-item {{activeCategory === item ? \u0026#39;active\u0026#39; : \u0026#39;\u0026#39;}}\u0026#34; wx:for=\u0026#34;{{categories}}\u0026#34; wx:key=\u0026#34;*this\u0026#34; bindtap=\u0026#34;switchCategory\u0026#34; data-category=\u0026#34;{{item}}\u0026#34;\u0026gt; {{item}} \u0026lt;/view\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;/scroll-view\u0026gt; \u0026lt;!-- 服务列表 --\u0026gt; \u0026lt;view class=\u0026#34;service-list\u0026#34;\u0026gt; \u0026lt;view class=\u0026#34;service-item\u0026#34; wx:for=\u0026#34;{{services}}\u0026#34; wx:key=\u0026#34;id\u0026#34; bindtap=\u0026#34;toOrderCreate\u0026#34; data-service=\u0026#34;{{item}}\u0026#34;\u0026gt; \u0026lt;image class=\u0026#34;service-image\u0026#34; src=\u0026#34;{{item.image_url || \u0026#39;/images/default-service.png\u0026#39;}}\u0026#34;\u0026gt;\u0026lt;/image\u0026gt; \u0026lt;view class=\u0026#34;service-content\u0026#34;\u0026gt; \u0026lt;view class=\u0026#34;service-header\u0026#34;\u0026gt; \u0026lt;text class=\u0026#34;service-name\u0026#34;\u0026gt;{{item.name}}\u0026lt;/text\u0026gt; \u0026lt;text class=\u0026#34;service-price\u0026#34;\u0026gt;¥{{item.price}}\u0026lt;/text\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;view class=\u0026#34;service-merchant\u0026#34;\u0026gt;{{item.merchant_name}}\u0026lt;/view\u0026gt; \u0026lt;view class=\u0026#34;service-footer\u0026#34;\u0026gt; \u0026lt;text class=\u0026#34;service-category\u0026#34;\u0026gt;{{item.category}}\u0026lt;/text\u0026gt; \u0026lt;text class=\u0026#34;service-stock\u0026#34;\u0026gt;库存: {{item.stock}}\u0026lt;/text\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;!-- 空状态 --\u0026gt; \u0026lt;view class=\u0026#34;empty-state\u0026#34; wx:if=\u0026#34;{{services.length === 0}}\u0026#34;\u0026gt; \u0026lt;text class=\u0026#34;empty-text\u0026#34;\u0026gt;暂无服务\u0026lt;/text\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;/view\u0026gt; 创建 pages/serviceList/serviceList.wxss：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 .container { padding: 20rpx; background: #f5f5f5; min-height: 100vh; } /* 搜索框 */ .search-box { display: flex; gap: 20rpx; margin-bottom: 30rpx; } .search-input { flex: 1; background: white; padding: 20rpx; border-radius: 10rpx; font-size: 28rpx; } .search-btn { background: #3498db; color: white; border: none; border-radius: 10rpx; padding: 0 30rpx; font-size: 28rpx; } /* 分类筛选 */ .category-scroll { white-space: nowrap; margin-bottom: 30rpx; } .category-list { display: inline-flex; gap: 20rpx; } .category-item { display: inline-block; padding: 15rpx 30rpx; background: white; border-radius: 30rpx; font-size: 28rpx; color: #666; } .category-item.active { background: #3498db; color: white; } /* 服务列表 */ .service-list { display: flex; flex-direction: column; gap: 20rpx; } .service-item { display: flex; background: white; border-radius: 20rpx; overflow: hidden; box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.1); } .service-image { width: 200rpx; height: 200rpx; background: #ecf0f1; } .service-content { flex: 1; padding: 30rpx; display: flex; flex-direction: column; justify-content: space-between; } .service-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 15rpx; } .service-name { font-size: 32rpx; font-weight: bold; color: #2c3e50; flex: 1; margin-right: 20rpx; } .service-price { font-size: 32rpx; color: #e74c3c; font-weight: bold; } .service-merchant { font-size: 26rpx; color: #7f8c8d; margin-bottom: 15rpx; } .service-footer { display: flex; justify-content: space-between; align-items: center; } .service-category { font-size: 24rpx; color: #3498db; background: #ecf0f1; padding: 8rpx 20rpx; border-radius: 20rpx; } .service-stock { font-size: 24rpx; color: #95a5a6; } /* 空状态 */ .empty-state { text-align: center; padding: 100rpx 0; } .empty-text { font-size: 32rpx; color: #bdc3c7; } 第 7 步：开发创建订单页面 创建 pages/orderCreate/orderCreate.js：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 const request = require(\u0026#34;../../utils/request\u0026#34;); Page({ data: { service: null, userInfo: { name: \u0026#34;\u0026#34;, phone: \u0026#34;\u0026#34;, }, }, onLoad(options) { if (options.service) { try { const serviceStr = decodeURIComponent(options.service); const service = JSON.parse(serviceStr); this.setData({ service }); } catch (err) { // 3. 捕获解析错误，避免页面崩溃并提示用户 console.error(\u0026#34;服务信息解析失败：\u0026#34;, err); wx.showToast({ title: \u0026#34;服务信息错误\u0026#34;, icon: \u0026#34;none\u0026#34;, duration: 2000, }); // 解析失败时返回上一页 setTimeout(() =\u0026gt; { wx.navigateBack(); }, 2000); } } else { // 没有传递 service 参数时的提示 wx.showToast({ title: \u0026#34;未获取到服务信息\u0026#34;, icon: \u0026#34;none\u0026#34;, duration: 2000, }); setTimeout(() =\u0026gt; { wx.navigateBack(); }, 2000); } }, // 输入用户姓名 onNameInput(e) { this.setData({ \u0026#34;userInfo.name\u0026#34;: e.detail.value, }); }, // 输入用户电话 onPhoneInput(e) { this.setData({ \u0026#34;userInfo.phone\u0026#34;: e.detail.value, }); }, // 提交订单 async submitOrder() { const { service, userInfo } = this.data; if (!userInfo.name.trim()) { wx.showToast({ title: \u0026#34;请输入姓名\u0026#34;, icon: \u0026#34;none\u0026#34;, }); return; } if (!userInfo.phone.trim()) { wx.showToast({ title: \u0026#34;请输入手机号\u0026#34;, icon: \u0026#34;none\u0026#34;, }); return; } // 简单的手机号验证 const phoneRegex = /^1[3-9]\\d{9}$/; if (!phoneRegex.test(userInfo.phone)) { wx.showToast({ title: \u0026#34;请输入正确的手机号\u0026#34;, icon: \u0026#34;none\u0026#34;, }); return; } try { wx.showLoading({ title: \u0026#34;提交中...\u0026#34;, }); await request(\u0026#34;/order/create\u0026#34;, \u0026#34;POST\u0026#34;, { service_id: service.id, user_name: userInfo.name, user_phone: userInfo.phone, }); wx.hideLoading(); wx.showToast({ title: \u0026#34;订单创建成功！\u0026#34;, icon: \u0026#34;success\u0026#34;, duration: 2000, }); // 跳转到订单列表 setTimeout(() =\u0026gt; { wx.navigateTo({ url: \u0026#34;/pages/orderList/orderList\u0026#34;, }); }, 2000); } catch (err) { wx.hideLoading(); wx.showToast({ title: \u0026#34;订单创建失败\u0026#34;, icon: \u0026#34;none\u0026#34;, }); } }, }); 创建 pages/orderCreate/orderCreate.wxml：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 \u0026lt;view class=\u0026#34;container\u0026#34;\u0026gt; \u0026lt;!-- 服务信息 --\u0026gt; \u0026lt;view class=\u0026#34;service-card\u0026#34; wx:if=\u0026#34;{{service}}\u0026#34;\u0026gt; \u0026lt;view class=\u0026#34;card-title\u0026#34;\u0026gt;服务信息\u0026lt;/view\u0026gt; \u0026lt;view class=\u0026#34;service-info\u0026#34;\u0026gt; \u0026lt;image class=\u0026#34;service-image\u0026#34; src=\u0026#34;{{service.image_url || \u0026#39;/images/default-service.png\u0026#39;}}\u0026#34;\u0026gt;\u0026lt;/image\u0026gt; \u0026lt;view class=\u0026#34;service-details\u0026#34;\u0026gt; \u0026lt;text class=\u0026#34;service-name\u0026#34;\u0026gt;{{service.name}}\u0026lt;/text\u0026gt; \u0026lt;text class=\u0026#34;service-merchant\u0026#34;\u0026gt;{{service.merchant_name}}\u0026lt;/text\u0026gt; \u0026lt;text class=\u0026#34;service-price\u0026#34;\u0026gt;¥{{service.price}}\u0026lt;/text\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;!-- 用户信息表单 --\u0026gt; \u0026lt;view class=\u0026#34;form-card\u0026#34;\u0026gt; \u0026lt;view class=\u0026#34;card-title\u0026#34;\u0026gt;填写订单信息\u0026lt;/view\u0026gt; \u0026lt;view class=\u0026#34;form-item\u0026#34;\u0026gt; \u0026lt;text class=\u0026#34;form-label\u0026#34;\u0026gt;姓名\u0026lt;/text\u0026gt; \u0026lt;input class=\u0026#34;form-input\u0026#34; placeholder=\u0026#34;请输入您的姓名\u0026#34; value=\u0026#34;{{userInfo.name}}\u0026#34; bindinput=\u0026#34;onNameInput\u0026#34; /\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;view class=\u0026#34;form-item\u0026#34;\u0026gt; \u0026lt;text class=\u0026#34;form-label\u0026#34;\u0026gt;手机号\u0026lt;/text\u0026gt; \u0026lt;input class=\u0026#34;form-input\u0026#34; placeholder=\u0026#34;请输入您的手机号\u0026#34; type=\u0026#34;number\u0026#34; value=\u0026#34;{{userInfo.phone}}\u0026#34; bindinput=\u0026#34;onPhoneInput\u0026#34; /\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;!-- 提交按钮 --\u0026gt; \u0026lt;view class=\u0026#34;submit-section\u0026#34;\u0026gt; \u0026lt;view class=\u0026#34;price-display\u0026#34;\u0026gt; \u0026lt;text class=\u0026#34;price-label\u0026#34;\u0026gt;总计：\u0026lt;/text\u0026gt; \u0026lt;text class=\u0026#34;price-amount\u0026#34;\u0026gt;¥{{service ? service.price : \u0026#39;0\u0026#39;}}\u0026lt;/text\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;button class=\u0026#34;submit-btn\u0026#34; bindtap=\u0026#34;submitOrder\u0026#34;\u0026gt;立即下单\u0026lt;/button\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;/view\u0026gt; 创建 pages/orderCreate/orderCreate.wxss：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 .container { padding: 20rpx; background: #f5f5f5; min-height: 100vh; padding-bottom: 200rpx; } /* 卡片样式 */ .service-card, .form-card { background: white; border-radius: 20rpx; padding: 30rpx; margin-bottom: 20rpx; box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.1); } .card-title { font-size: 32rpx; font-weight: bold; color: #2c3e50; margin-bottom: 30rpx; } /* 服务信息 */ .service-info { display: flex; gap: 30rpx; } .service-image { width: 120rpx; height: 120rpx; border-radius: 10rpx; background: #ecf0f1; } .service-details { flex: 1; display: flex; flex-direction: column; justify-content: space-between; } .service-name { font-size: 32rpx; font-weight: bold; color: #2c3e50; } .service-merchant { font-size: 26rpx; color: #7f8c8d; } .service-price { font-size: 36rpx; color: #e74c3c; font-weight: bold; } /* 表单样式 */ .form-item { display: flex; align-items: center; padding: 30rpx 0; border-bottom: 1rpx solid #ecf0f1; } .form-item:last-child { border-bottom: none; } .form-label { font-size: 30rpx; color: #2c3e50; width: 150rpx; } .form-input { flex: 1; font-size: 30rpx; color: #2c3e50; } /* 提交区域 */ .submit-section { position: fixed; bottom: 0; left: 0; right: 0; background: white; padding: 30rpx; display: flex; align-items: center; justify-content: space-between; box-shadow: 0 -2rpx 20rpx rgba(0, 0, 0, 0.1); } .price-display { display: flex; align-items: baseline; } .price-label { font-size: 28rpx; color: #2c3e50; margin-right: 10rpx; } .price-amount { font-size: 40rpx; color: #e74c3c; font-weight: bold; } .submit-btn { background: #e74c3c; color: white; border: none; border-radius: 50rpx; padding: 25rpx 60rpx; font-size: 32rpx; font-weight: bold; } 第 8 步：开发订单列表页面 创建 pages/orderList/orderList.js：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 const request = require(\u0026#34;../../utils/request\u0026#34;); Page({ data: { orders: [], }, onLoad() { this.getOrders(); }, onShow() { this.getOrders(); }, // 获取订单列表 async getOrders() { try { const orders = await request(\u0026#34;/order/list\u0026#34;); this.setData({ orders }); } catch (err) { wx.showToast({ title: \u0026#34;加载失败\u0026#34;, icon: \u0026#34;none\u0026#34;, }); } }, // 格式化时间 formatTime(timeString) { const date = new Date(timeString); return `${date.getFullYear()}-${(date.getMonth() + 1) .toString() .padStart(2, \u0026#34;0\u0026#34;)}-${date.getDate().toString().padStart(2, \u0026#34;0\u0026#34;)} ${date .getHours() .toString() .padStart(2, \u0026#34;0\u0026#34;)}:${date.getMinutes().toString().padStart(2, \u0026#34;0\u0026#34;)}`; }, }); 创建 pages/orderList/orderList.wxml：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 \u0026lt;view class=\u0026#34;container\u0026#34;\u0026gt; \u0026lt;view class=\u0026#34;header\u0026#34;\u0026gt; \u0026lt;text class=\u0026#34;title\u0026#34;\u0026gt;我的订单\u0026lt;/text\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;view class=\u0026#34;order-list\u0026#34;\u0026gt; \u0026lt;view class=\u0026#34;order-item\u0026#34; wx:for=\u0026#34;{{orders}}\u0026#34; wx:key=\u0026#34;id\u0026#34;\u0026gt; \u0026lt;view class=\u0026#34;order-header\u0026#34;\u0026gt; \u0026lt;text class=\u0026#34;order-no\u0026#34;\u0026gt;订单号: {{item.id}}\u0026lt;/text\u0026gt; \u0026lt;text class=\u0026#34;order-status {{item.status === 0 ? \u0026#39;pending\u0026#39; : \u0026#39;completed\u0026#39;}}\u0026#34;\u0026gt; {{item.status === 0 ? \u0026#39;待支付\u0026#39; : \u0026#39;已完成\u0026#39;}} \u0026lt;/text\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;view class=\u0026#34;order-content\u0026#34;\u0026gt; \u0026lt;view class=\u0026#34;service-info\u0026#34;\u0026gt; \u0026lt;text class=\u0026#34;service-name\u0026#34;\u0026gt;{{item.service_name}}\u0026lt;/text\u0026gt; \u0026lt;text class=\u0026#34;merchant-name\u0026#34;\u0026gt;{{item.merchant_name}}\u0026lt;/text\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;text class=\u0026#34;service-price\u0026#34;\u0026gt;¥{{item.price}}\u0026lt;/text\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;view class=\u0026#34;order-footer\u0026#34;\u0026gt; \u0026lt;text class=\u0026#34;user-info\u0026#34;\u0026gt;{{item.user_name}} · {{item.user_phone}}\u0026lt;/text\u0026gt; \u0026lt;text class=\u0026#34;order-time\u0026#34;\u0026gt;{{formatTime(item.create_time)}}\u0026lt;/text\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;view class=\u0026#34;empty-state\u0026#34; wx:if=\u0026#34;{{orders.length === 0}}\u0026#34;\u0026gt; \u0026lt;text class=\u0026#34;empty-text\u0026#34;\u0026gt;暂无订单\u0026lt;/text\u0026gt; \u0026lt;text class=\u0026#34;empty-desc\u0026#34;\u0026gt;去首页看看有什么服务吧\u0026lt;/text\u0026gt; \u0026lt;/view\u0026gt; \u0026lt;/view\u0026gt; 创建 pages/orderList/orderList.wxss：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 .container { padding: 20rpx; background: #f5f5f5; min-height: 100vh; } .header { text-align: center; margin: 40rpx 0; } .title { font-size: 48rpx; font-weight: bold; color: #2c3e50; } .order-list { display: flex; flex-direction: column; gap: 20rpx; } .order-item { background: white; border-radius: 20rpx; padding: 30rpx; box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.1); } .order-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20rpx; padding-bottom: 20rpx; border-bottom: 1rpx solid #ecf0f1; } .order-no { font-size: 26rpx; color: #7f8c8d; } .order-status { font-size: 26rpx; font-weight: bold; padding: 8rpx 20rpx; border-radius: 20rpx; } .order-status.pending { background: #fff3cd; color: #856404; } .order-status.completed { background: #d4edda; color: #155724; } .order-content { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 20rpx; } .service-info { flex: 1; } .service-name { display: block; font-size: 32rpx; font-weight: bold; color: #2c3e50; margin-bottom: 10rpx; } .merchant-name { font-size: 26rpx; color: #7f8c8d; } .service-price { font-size: 36rpx; color: #e74c3c; font-weight: bold; } .order-footer { display: flex; justify-content: space-between; align-items: center; padding-top: 20rpx; border-top: 1rpx solid #ecf0f1; } .user-info { font-size: 26rpx; color: #2c3e50; } .order-time { font-size: 24rpx; color: #95a5a6; } .empty-state { text-align: center; padding: 100rpx 0; } .empty-text { display: block; font-size: 32rpx; color: #bdc3c7; margin-bottom: 20rpx; } .empty-desc { display: block; font-size: 28rpx; color: #bdc3c7; } 第 9 步：配置小程序入口 修改 app.js：\n1 2 3 4 5 6 7 8 9 App({ onLaunch() { console.log(\u0026#34;小程序启动\u0026#34;); }, globalData: { userInfo: null, }, }); 🧪 阶段五：集成测试与上线 第 1 步：完整流程测试 测试流程： 启动所有服务：\n1 2 3 4 5 6 7 # 终端1 - 后端 cd D:/life-service/server npm run dev # 终端2 - 前端 cd D:/life-service/web-admin npm run serve 在 DataGrip 中监控数据：\n实时查看表数据变化 验证外键关系 测试完整业务流程：\nWeb 端：添加商家 → 添加服务 小程序：浏览服务 → 下单 Web 端：查看订单 第 2 步：代码优化 后端优化： 添加参数验证 错误处理完善 添加日志记录 前端优化： 加载状态提示 错误边界处理 表单验证加强 第 3 步：部署准备 整理项目文档： 创建 README.md：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 # 全域生活服务平台 ## 项目介绍 一个完整的生活服务平台，包含 Web 管理后台和微信小程序。 ## 技术栈 - 后端：Node.js + Express + MySQL - 前端：Vue 3 + Vue Router - 小程序：微信小程序原生开发 - 数据库：MySQL 8.0 - 工具：DataGrip ## 启动步骤 ### 后端 1. cd server 2. npm install 3. 修改 db/index.js 中的数据库密码 4. npm run dev ### Web 管理后台 1. cd web-admin 2. npm install 3. npm run serve ### 小程序 1. 微信开发者工具中打开 mini-user 文件夹 2. 点击预览 第 4 步：Git 版本控制 1 2 3 4 5 6 7 8 9 10 11 12 13 # 初始化Git cd D:/life-service git init # 添加所有文件 git add . # 提交代码 git commit -m \u0026#34;初始提交：完成全域生活服务平台开发\u0026#34; # 推送到GitHub/Gitee git remote add origin 你的仓库地址 git push -u origin main 后续的更新统管理 1 2 3 git init git add . git commit -m \u0026#34;update\u0026#34; 🎉 项目完成！ 你已掌握的技能： ✅ 全栈开发：前端 + 后端 + 数据库\n✅ 多端开发：Web + 微信小程序\n✅ 数据库设计：MySQL 表设计与关系\n✅ API 开发：RESTful 接口设计\n✅ 工具使用：DataGrip 数据库管理\n面试亮点： \u0026ldquo;独立完成从数据库设计到前后端开发的全流程\u0026rdquo; \u0026ldquo;掌握 Vue + Node.js + MySQL 技术栈整合\u0026rdquo; \u0026ldquo;具备多端开发能力（Web + 小程序）\u0026rdquo; \u0026ldquo;使用 DataGrip 进行专业的数据库管理\u0026rdquo; 下一步建议： 功能扩展：添加用户登录、支付功能 性能优化：添加缓存、分页查询 部署上线：购买云服务器部署项目 持续学习：学习 TypeScript、Docker 等进阶技术 ","date":"2025-10-20T16:36:00+08:00","permalink":"https://ye-guan-xing.github.io/p/%E5%85%A8%E5%9F%9F%E7%94%9F%E6%B4%BB%E6%9C%8D%E5%8A%A1%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B%E8%AF%A6%E8%A7%A3/","title":"全域生活服务平台开发流程详解"}]